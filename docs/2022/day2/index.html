<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>index.nim</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>üê≥</text></svg>">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link rel='stylesheet' href='https://unpkg.com/normalize.css'>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/light.min.css">
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/pietroppeter/nimib/assets/atom-one-light.css'>
  <style>
.nb-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.nb-small {
  font-size: 0.8rem;
}
button.nb-small {
  float: right;
  padding: 2px;
  padding-right: 5px;
  padding-left: 5px;
}
section#source {
  display:none
}

.nb-output {
  line-height: 1.15;
}
</style>
  
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"></script><body>
<header>
<div class="nb-box">
  <span><a href=".">üè°</a></span>
  <span><code>index.nim</code></span>
  <span><a href="https://github.com/HugoGranstrom/AdventOfNim"><svg aria-hidden="true" width="1.2em" height="1.2em" style="vertical-align: middle;" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59c.4.07.55-.17.55-.38c0-.19-.01-.82-.01-1.49c-2.01.37-2.53-.49-2.69-.94c-.09-.23-.48-.94-.82-1.13c-.28-.15-.68-.52-.01-.53c.63-.01 1.08.58 1.23.82c.72 1.21 1.87.87 2.33.66c.07-.52.28-.87.51-1.07c-1.78-.2-3.64-.89-3.64-3.95c0-.87.31-1.59.82-2.15c-.08-.2-.36-1.02.08-2.12c0 0 .67-.21 2.2.82c.64-.18 1.32-.27 2-.27c.68 0 1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82c.44 1.1.16 1.92.08 2.12c.51.56.82 1.27.82 2.15c0 3.07-1.87 3.75-3.65 3.95c.29.25.54.73.54 1.48c0 1.07-.01 1.93-.01 2.2c0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z" fill="#000"></path></svg></a></span>
</div>
<hr>
</header><main>

<h1>Advent of Code 2022 - Day 2 - Rock Paper Scissors</h1>

<p>The input for today contained 2500 games of Rock paper scissor. The above animation shows all of those games visualized
using <a href="https://github.com/pietroppeter/p5nim">p5nim</a>, a wrapper of P5.js for Nim. It starts off with both players getting
ready to play (hands are still), then they start shaking their hands and reveal their choice. The left one is the elfs choice
and the right one is your choice. After the game an emoji will show the result of the game, a green checkbox means you won that
match, a dash means it was a draw and a red cross means you lost.</p>
<script defer>/* Generated by the Nim Compiler v1.6.8 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI469762105 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI469764556 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI469763798 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI469763795 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI469763792 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI469763633 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33554438 = {size: 0,kind: 2,base: null,node: null,finalizer: null};
var NTI469762857 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI469762854 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI469762851 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI469762104 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI469762125 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI469762122 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI469762119 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI1056964616 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555114 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555125 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555126 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI620757014 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI33554435 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI33554474 = {size: 0,kind: 35,base: null,node: null,finalizer: null};
var NTI33554466 = {size: 0,kind: 1,base: null,node: null,finalizer: null};
var NTI620756997 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI620756996 = {size: 0, kind: 22, base: null, node: null, finalizer: null};
var NTI33554456 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI637534211 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI620757012 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI620757009 = {size: 0, kind: 24, base: null, node: null, finalizer: null};
var NTI620757006 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI620756995 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI33555083 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555165 = {size: 0, kind: 22, base: null, node: null, finalizer: null};
var NTI33554439 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI33554440 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI33555164 = {size: 0, kind: 22, base: null, node: null, finalizer: null};
var NTI33555112 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555113 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33555129 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NNI33555129 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555129.node = NNI33555129;
var NNI33555113 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555113.node = NNI33555113;
NTI33555164.base = NTI33555112;
NTI33555165.base = NTI33555112;
var NNI33555112 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI33555164, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI33554440, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI33554439, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI33554439, name: "trace", sons: null}, 
{kind: 1, offset: "up", len: 0, typ: NTI33555165, name: "up", sons: null}]};
NTI33555112.node = NNI33555112;
var NNI33555083 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555083.node = NNI33555083;
NTI33555112.base = NTI33555083;
NTI33555113.base = NTI33555112;
NTI33555129.base = NTI33555113;
var NNI620756995 = {kind: 2, offset: 0, typ: null, name: null, len: 7, sons: {"0": {kind: 1, offset: 0, typ: NTI620756995, name: "JNull", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI620756995, name: "JBool", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI620756995, name: "JInt", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI620756995, name: "JFloat", len: 0, sons: null}, 
"4": {kind: 1, offset: 4, typ: NTI620756995, name: "JString", len: 0, sons: null}, 
"5": {kind: 1, offset: 5, typ: NTI620756995, name: "JObject", len: 0, sons: null}, 
"6": {kind: 1, offset: 6, typ: NTI620756995, name: "JArray", len: 0, sons: null}}};
NTI620756995.node = NNI620756995;
NTI620757014.base = NTI620756996;
var NNI620756997 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "isUnquoted", len: 0, typ: NTI33554466, name: "isUnquoted", sons: null}, 
{kind: 3, offset: "kind", len: 7, typ: NTI620756995, name: "kind", sons: [[setConstr(4), {kind: 1, offset: "str", len: 0, typ: NTI33554439, name: "str", sons: null}], 
[setConstr(2), {kind: 1, offset: "num", len: 0, typ: NTI33554474, name: "num", sons: null}], 
[setConstr(3), {kind: 1, offset: "fnum", len: 0, typ: NTI33554435, name: "fnum", sons: null}], 
[setConstr(1), {kind: 1, offset: "bval", len: 0, typ: NTI33554466, name: "bval", sons: null}], 
[setConstr(0), {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}], 
[setConstr(5), {kind: 1, offset: "fields", len: 0, typ: NTI620757006, name: "fields", sons: null}], 
[setConstr(6), {kind: 1, offset: "elems", len: 0, typ: NTI620757014, name: "elems", sons: null}]]}]};
NTI620756997.node = NNI620756997;
NTI620756996.base = NTI620756997;
var NNI620757012 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI637534211, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554456, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI33554439, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI620756996, name: "Field3", sons: null}]};
NTI620757012.node = NNI620757012;
NTI620757009.base = NTI620757012;
var NNI620757006 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI620757009, name: "data", sons: null}, 
{kind: 1, offset: "counter", len: 0, typ: NTI33554456, name: "counter", sons: null}, 
{kind: 1, offset: "first", len: 0, typ: NTI33554456, name: "first", sons: null}, 
{kind: 1, offset: "last", len: 0, typ: NTI33554456, name: "last", sons: null}]};
NTI620757006.node = NNI620757006;
var NNI33555126 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555126.node = NNI33555126;
var NNI33555125 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555125.node = NNI33555125;
var NNI33555114 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI33555114.node = NNI33555114;
NTI33555114.base = NTI33555112;
NTI33555125.base = NTI33555114;
NTI33555126.base = NTI33555125;
var NNI1056964616 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI1056964616.node = NNI1056964616;
NTI1056964616.base = NTI33555125;
var NNI469762104 = {kind: 2, offset: 0, typ: null, name: null, len: 3, sons: {"0": {kind: 1, offset: 0, typ: NTI469762104, name: "Rock", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI469762104, name: "Paper", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI469762104, name: "Scissor", len: 0, sons: null}}};
NTI469762104.node = NNI469762104;
var NNI469762125 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI637534211, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI469762104, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI469762104, name: "Field2", sons: null}]};
NTI469762125.node = NNI469762125;
NTI469762122.base = NTI469762125;
var NNI469762119 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI469762122, name: "data", sons: null}, 
{kind: 1, offset: "counter", len: 0, typ: NTI33554456, name: "counter", sons: null}]};
NTI469762119.node = NNI469762119;
var NNI469762857 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI637534211, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554438, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI469762104, name: "Field2", sons: null}]};
NTI469762857.node = NNI469762857;
NTI469762854.base = NTI469762857;
var NNI469762851 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI469762854, name: "data", sons: null}, 
{kind: 1, offset: "counter", len: 0, typ: NTI33554456, name: "counter", sons: null}]};
NTI469762851.node = NNI469762851;
var NNI469763633 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI33554466, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI33554438, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI33554438, name: "Field2", sons: null}]};
NTI469763633.node = NNI469763633;
var NNI469763798 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI637534211, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI469762104, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI33554439, name: "Field2", sons: null}]};
NTI469763798.node = NNI469763798;
NTI469763795.base = NTI469763798;
var NNI469763792 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI469763795, name: "data", sons: null}, 
{kind: 1, offset: "counter", len: 0, typ: NTI33554456, name: "counter", sons: null}]};
NTI469763792.node = NNI469763792;
var NNI469764556 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "a", len: 0, typ: NTI33554435, name: "a", sons: null}, 
{kind: 1, offset: "b", len: 0, typ: NTI33554435, name: "b", sons: null}]};
NTI469764556.node = NNI469764556;
var NNI469762105 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "left", len: 0, typ: NTI469762104, name: "left", sons: null}, 
{kind: 1, offset: "right", len: 0, typ: NTI469762104, name: "right", sons: null}, 
{kind: 1, offset: "start_t", len: 0, typ: NTI33554435, name: "start_t", sons: null}]};
NTI469762105.node = NNI469762105;

function eqStrings(a_33556931, b_33556932) {
        if (a_33556931 == b_33556932) return true;
    if (a_33556931 === null && b_33556932.length == 0) return true;
    if (b_33556932 === null && a_33556931.length == 0) return true;
    if ((!a_33556931) || (!b_33556932)) return false;
    var alen = a_33556931.length;
    if (alen != b_33556932.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_33556931[i] != b_33556932[i]) return false;
    return true;
  

  
}

function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(4);

function makeNimstrLit(c_33556801) {
      var result = [];
  for (var i = 0; i < c_33556801.length; ++i) {
    result[i] = c_33556801.charCodeAt(i);
  }
  return result;
  

  
}

function toJSStr(s_33556807) {
                    var Temporary5;
            var Temporary7;

  var result_33556808 = null;

    var res_33556842 = newSeq_33556825((s_33556807).length);
    var i_33556843 = 0;
    var j_33556844 = 0;
    Label1: do {
        Label2: while (true) {
        if (!(i_33556843 < (s_33556807).length)) break Label2;
          var c_33556845 = s_33556807[i_33556843];
          if ((c_33556845 < 128)) {
          res_33556842[j_33556844] = String.fromCharCode(c_33556845);
          i_33556843 += 1;
          }
          else {
            var helper_33556857 = newSeq_33556825(0);
            Label3: do {
                Label4: while (true) {
                if (!true) break Label4;
                  var code_33556858 = c_33556845.toString(16);
                  if ((((code_33556858) == null ? 0 : (code_33556858).length) == 1)) {
                  helper_33556857.push("%0");;
                  }
                  else {
                  helper_33556857.push("%");;
                  }
                  
                  helper_33556857.push(code_33556858);;
                  i_33556843 += 1;
                    if (((s_33556807).length <= i_33556843)) Temporary5 = true; else {                      Temporary5 = (s_33556807[i_33556843] < 128);                    }                  if (Temporary5) {
                  break Label3;
                  }
                  
                  c_33556845 = s_33556807[i_33556843];
                }
            } while (false);
++excHandler;
            Temporary7 = framePtr;
            try {
            res_33556842[j_33556844] = decodeURIComponent(helper_33556857.join(""));
--excHandler;
} catch (EXCEPTION) {
 var prevJSError = lastJSError;
 lastJSError = EXCEPTION;
 --excHandler;
            framePtr = Temporary7;
            res_33556842[j_33556844] = helper_33556857.join("");
            lastJSError = prevJSError;
            } finally {
            framePtr = Temporary7;
            }
          }
          
          j_33556844 += 1;
        }
    } while (false);
    if (res_33556842.length < j_33556844) { for (var i = res_33556842.length ; i < j_33556844 ; ++i) res_33556842.push(null); }
               else { res_33556842.length = j_33556844; };
    result_33556808 = res_33556842.join("");

  return result_33556808;

}

function raiseException(e_33556667, ename_33556668) {
    e_33556667.name = ename_33556668;
    if ((excHandler == 0)) {
    unhandledException(e_33556667);
    }
    
    throw e_33556667;

  
}

function raiseFieldError2(f_33556778, discVal_33556779) {
    raiseException({message: (f_33556778 || []).concat(discVal_33556779 || [],makeNimstrLit("\'") || []), parent: null, m_type: NTI33555129, name: null, trace: [], up: null}, "FieldDefect");

  
}
var ConstSet2 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);

function nimCopy(dest_33557140, src_33557141, ti_33557142) {
  var result_33557151 = null;

    switch (ti_33557142.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(isFatPointer_33557131(ti_33557142))) {
      result_33557151 = src_33557141;
      }
      else {
        result_33557151 = [src_33557141[0], src_33557141[1]];
      }
      
      break;
    case 19:
            if (dest_33557140 === null || dest_33557140 === undefined) {
        dest_33557140 = {};
      }
      else {
        for (var key in dest_33557140) { delete dest_33557140[key]; }
      }
      for (var key in src_33557141) { dest_33557140[key] = src_33557141[key]; }
      result_33557151 = dest_33557140;
    
      break;
    case 18:
    case 17:
      if (!((ti_33557142.base == null))) {
      result_33557151 = nimCopy(dest_33557140, src_33557141, ti_33557142.base);
      }
      else {
      if ((ti_33557142.kind == 17)) {
      result_33557151 = (dest_33557140 === null || dest_33557140 === undefined) ? {m_type: ti_33557142} : dest_33557140;
      }
      else {
        result_33557151 = (dest_33557140 === null || dest_33557140 === undefined) ? {} : dest_33557140;
      }
      }
      nimCopyAux(result_33557151, src_33557141, ti_33557142.node);
      break;
    case 24:
    case 4:
    case 27:
    case 16:
            if (src_33557141 === null) {
        result_33557151 = null;
      }
      else {
        if (dest_33557140 === null || dest_33557140 === undefined || dest_33557140.length != src_33557141.length) {
          dest_33557140 = new Array(src_33557141.length);
        }
        result_33557151 = dest_33557140;
        for (var i = 0; i < src_33557141.length; ++i) {
          result_33557151[i] = nimCopy(result_33557151[i], src_33557141[i], ti_33557142.base);
        }
      }
    
      break;
    case 28:
            if (src_33557141 !== null) {
        result_33557151 = src_33557141.slice(0);
      }
    
      break;
    default: 
      result_33557151 = src_33557141;
      break;
    }

  return result_33557151;

}

function mnewString(len_33556893) {
        return new Array(len_33556893);
  

  
}

function nimBoolToStr(x_33556514) {
  var result_33556515 = [];

    if (x_33556514) {
    result_33556515 = nimCopy(null, makeNimstrLit("true"), NTI33554439);
    }
    else {
      result_33556515 = nimCopy(null, makeNimstrLit("false"), NTI33554439);
    }
    

  return result_33556515;

}

function reprDiscriminant(e_33557409, typ_33557410) {
    var Temporary1;

  var result_33557411 = [];

    switch (typ_33557410.kind) {
    case 14:
      Temporary1 = reprEnum(e_33557409, typ_33557410);
      break;
    case 1:
      Temporary1 = nimBoolToStr(!((e_33557409 == 0)));
      break;
    default: 
      Temporary1 = HEX24_318767107(e_33557409);
      break;
    }
    result_33557411 = nimCopy(null, Temporary1, NTI33554439);

  return result_33557411;

}
var ConstSet3 = setConstr(4);
var ConstSet4 = setConstr(2);
var ConstSet5 = setConstr(2);
var ConstSet6 = setConstr(3);
var ConstSet7 = setConstr(3);
var ConstSet8 = setConstr(1);
var ConstSet9 = setConstr(1);
var ConstSet10 = setConstr(6);
var ConstSet11 = setConstr(6);
var ConstSet12 = setConstr(5);
var ConstSet13 = setConstr(5);
var ConstSet14 = setConstr(5);
var ConstSet15 = setConstr(5);
var ConstSet16 = setConstr(5);
var ConstSet17 = setConstr(4, 0);

function addChar(x_33557255, c_33557256) {
    x_33557255.push(c_33557256);

  
}
var ConstSet18 = setConstr([48, 57]);
var ConstSet19 = setConstr(0, 125);
var ConstSet20 = setConstr([48, 57]);
var ConstSet21 = setConstr([65, 90]);

function nimMax(a_33556998, b_33556999) {
    var Temporary1;

  var result_33557000 = 0;

  BeforeRet: do {
    if ((b_33556999 <= a_33556998)) {
    Temporary1 = a_33556998;
    }
    else {
    Temporary1 = b_33556999;
    }
    
    result_33557000 = Temporary1;
    break BeforeRet;
  } while (false);

  return result_33557000;

}

function nimMin(a_33556994, b_33556995) {
    var Temporary1;

  var result_33556996 = 0;

  BeforeRet: do {
    if ((a_33556994 <= b_33556995)) {
    Temporary1 = a_33556994;
    }
    else {
    Temporary1 = b_33556995;
    }
    
    result_33556996 = Temporary1;
    break BeforeRet;
  } while (false);

  return result_33556996;

}
var ConstSet22 = setConstr([97, 122], [65, 90], [48, 57], [128, 255], 95);
var ConstSet23 = setConstr(4, 0);
var ConstSet24 = setConstr(4);

function cstrToNimstr(c_33556804) {
      var ln = c_33556804.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_33556804.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else {
      if (ch < 2048) {
        result[r] = (ch >> 6) | 192;
      }
      else {
        if (ch < 55296 || ch >= 57344) {
          result[r] = (ch >> 12) | 224;
        }
        else {
            ++i;
            ch = 65536 + (((ch & 1023) << 10) | (c_33556804.charCodeAt(i) & 1023));
            result[r] = (ch >> 18) | 240;
            ++r;
            result[r] = ((ch >> 12) & 63) | 128;
        }
        ++r;
        result[r] = ((ch >> 6) & 63) | 128;
      }
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  return result;
  

  
}
var ConstSet25 = setConstr(6);

function genericReset(x_33557171, ti_33557172) {
  var result_33557173 = null;

    result_33557173 = null;
    switch (ti_33557172.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (isFatPointer_33557131(ti_33557172)) {
              result_33557173 = [null, 0];
      
      }
      
      break;
    case 19:
            result_33557173 = {};
    
      break;
    case 18:
    case 17:
      if ((ti_33557172.kind == 17)) {
      result_33557173 = {m_type: ti_33557172};
      }
      else {
        result_33557173 = {};
      }
      
      break;
    case 24:
    case 27:
    case 28:
            result_33557173 = [];
    
      break;
    case 4:
    case 16:
            result_33557173 = new Array(x_33557171.length);
      for (var i = 0; i < x_33557171.length; ++i) {
        result_33557173[i] = genericReset(x_33557171[i], ti_33557172.base);
      }
    
      break;
    default: 
      break;
    }

  return result_33557173;

}
var ConstSet26 = setConstr(5);
var ConstSet27 = setConstr(13, 10);

function nimCharToStr(x_33556517) {
  var result_33556518 = [];

    result_33556518 = nimCopy(null, mnewString(1), NTI33554439);
    result_33556518[0] = x_33556517;

  return result_33556518;

}
if (!Math.trunc) {
  Math.trunc = function(v) {
    v = +v;
    if (!isFinite(v)) return v;
    return (v - v % 1) || (v < 0 ? -0 : v === 0 ? v : 0);
  };
}

var objectID_637534370 = [0];

function add_33556419(x_33556420, x_33556420_Idx, y_33556421) {
          if (x_33556420[x_33556420_Idx] === null) { x_33556420[x_33556420_Idx] = []; }
      var off = x_33556420[x_33556420_Idx].length;
      x_33556420[x_33556420_Idx].length += y_33556421.length;
      for (var i = 0; i < y_33556421.length; ++i) {
        x_33556420[x_33556420_Idx][off+i] = y_33556421.charCodeAt(i);
      }
    

  
}

function newSeq_33556825(len_33556827) {
  var result_33556828 = [];

    result_33556828 = new Array(len_33556827); for (var i = 0 ; i < len_33556827 ; ++i) { result_33556828[i] = null; }
  return result_33556828;

}

function unhandledException(e_33556663) {
    var buf_33556664 = [[]];
    if (!(((e_33556663.message).length == 0))) {
    buf_33556664[0].push.apply(buf_33556664[0], makeNimstrLit("Error: unhandled exception: "));;
    buf_33556664[0].push.apply(buf_33556664[0], e_33556663.message);;
    }
    else {
    buf_33556664[0].push.apply(buf_33556664[0], makeNimstrLit("Error: unhandled exception"));;
    }
    
    buf_33556664[0].push.apply(buf_33556664[0], makeNimstrLit(" ["));;
    add_33556419(buf_33556664, 0, e_33556663.name);
    buf_33556664[0].push.apply(buf_33556664[0], makeNimstrLit("]\x0A"));;
    var cbuf_33556665 = toJSStr(buf_33556664[0]);
    framePtr = null;
      if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_33556665);
  }
  else {
    throw cbuf_33556665;
  }
  

  
}

function isFatPointer_33557131(ti_33557132) {
  var result_33557133 = false;

  BeforeRet: do {
    result_33557133 = !((ConstSet2[ti_33557132.base.kind] != undefined));
    break BeforeRet;
  } while (false);

  return result_33557133;

}

function nimCopyAux(dest_33557144, src_33557145, n_33557146) {
    switch (n_33557146.kind) {
    case 0:
      break;
    case 1:
            dest_33557144[n_33557146.offset] = nimCopy(dest_33557144[n_33557146.offset], src_33557145[n_33557146.offset], n_33557146.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_33557146.sons.length; i++) {
      nimCopyAux(dest_33557144, src_33557145, n_33557146.sons[i]);
    }
    
      break;
    case 3:
            dest_33557144[n_33557146.offset] = nimCopy(dest_33557144[n_33557146.offset], src_33557145[n_33557146.offset], n_33557146.typ);
      for (var i = 0; i < n_33557146.sons.length; ++i) {
        nimCopyAux(dest_33557144, src_33557145, n_33557146.sons[i][1]);
      }
    
      break;
    }

  
}

function addChars_251658415(result_251658417, result_251658417_Idx, x_251658418, start_251658419, n_251658420) {
    var old_251658421 = (result_251658417[result_251658417_Idx]).length;
    (result_251658417[result_251658417_Idx].length = (old_251658421 + n_251658420));
    Label1: do {
      var iHEX60gensym4_251658435 = 0;
      var i_469762090 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(i_469762090 < n_251658420)) break Label3;
            iHEX60gensym4_251658435 = i_469762090;
            result_251658417[result_251658417_Idx][(old_251658421 + iHEX60gensym4_251658435)] = x_251658418.charCodeAt((start_251658419 + iHEX60gensym4_251658435));
            i_469762090 += 1;
          }
      } while (false);
    } while (false);

  
}

function addChars_251658411(result_251658413, result_251658413_Idx, x_251658414) {
    addChars_251658415(result_251658413, result_251658413_Idx, x_251658414, 0, ((x_251658414) == null ? 0 : (x_251658414).length));

  
}

function addInt_251658436(result_251658437, result_251658437_Idx, x_251658438) {
    addChars_251658411(result_251658437, result_251658437_Idx, ((x_251658438) + ""));

  
}

function addInt_251658457(result_251658458, result_251658458_Idx, x_251658459) {
    addInt_251658436(result_251658458, result_251658458_Idx, x_251658459);

  
}

function HEX24_318767107(x_318767108) {
  var result_318767109 = [[]];

    addInt_251658457(result_318767109, 0, x_318767108);

  return result_318767109[0];

}

function reprEnum(e_33557385, typ_33557386) {
  var result_33557387 = [];

    var tmp_33557388 = false;
    var item_33557389 = typ_33557386.node.sons[e_33557385];
    tmp_33557388 = item_33557389 !== undefined
    if (tmp_33557388) {
    result_33557387 = nimCopy(null, makeNimstrLit(item_33557389.name), NTI33554439);
    }
    else {
      result_33557387 = nimCopy(null, (HEX24_318767107(e_33557385) || []).concat(makeNimstrLit(" (invalid data!)") || []), NTI33554439);
    }
    

  return result_33557387;

}

function HEX3DHEX3D_620759076(x_620759078, y_620759079) {
  var result_620759080 = false;

  BeforeRet: do {
    var sameObject_620759088 = false;
    sameObject_620759088 = x_620759078 === y_620759079
    if (sameObject_620759088) {
    result_620759080 = true;
    break BeforeRet;
    }
    
    if (!(((x_620759078).length == (y_620759079).length))) {
    result_620759080 = false;
    break BeforeRet;
    }
    
    Label1: do {
      var i_620759102 = 0;
      var colontmp__469762093 = 0;
      colontmp__469762093 = ((x_620759078).length - 1);
      var res_469762094 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(res_469762094 <= colontmp__469762093)) break Label3;
            i_620759102 = res_469762094;
            if (!(HEX3DHEX3D_620759059(x_620759078[i_620759102], y_620759079[i_620759102]))) {
            result_620759080 = false;
            break BeforeRet;
            }
            
            res_469762094 += 1;
          }
      } while (false);
    } while (false);
    result_620759080 = true;
    break BeforeRet;
  } while (false);

  return result_620759080;

}

function len_620759147(t_620759150) {
  var result_620759151 = 0;

    result_620759151 = t_620759150.counter;

  return result_620759151;

}

function isFilled_721420319(hcode_721420320) {
  var result_721420321 = false;

    result_721420321 = !((hcode_721420320 == 0));

  return result_721420321;

}

function imul_637534525(a_637534526, b_637534527) {
  var result_637534528 = 0;

    var mask_637534529 = 65535;
    var aHi_637534534 = ((a_637534526 >>> 16) & mask_637534529);
    var aLo_637534535 = (a_637534526 & mask_637534529);
    var bHi_637534540 = ((b_637534527 >>> 16) & mask_637534529);
    var bLo_637534541 = (b_637534527 & mask_637534529);
    result_637534528 = ((((aLo_637534535 * bLo_637534541) >>> 0) + (((((aHi_637534534 * bLo_637534541) >>> 0) + ((aLo_637534535 * bHi_637534540) >>> 0)) >>> 0) << 16)) >>> 0);

  return result_637534528;

}

function rotl32_637534546(x_637534547, r_637534548) {
  var result_637534549 = 0;

    result_637534549 = ((x_637534547 << r_637534548) | (x_637534547 >>> (32 - r_637534548)));

  return result_637534549;

}

function murmurHash_637534558(x_637534559) {
  var result_637534560 = 0;

  BeforeRet: do {
    var size_637534569 = (x_637534559).length;
    var stepSize_637534570 = 4;
    var n_637534571 = Math.trunc(size_637534569 / stepSize_637534570);
    var h1_637534572 = 0;
    var i_637534573 = 0;
    Label1: do {
        Label2: while (true) {
        if (!(i_637534573 < (n_637534571 * stepSize_637534570))) break Label2;
          var k1_637534574 = 0;
          var j_637534575 = stepSize_637534570;
          Label3: do {
              Label4: while (true) {
              if (!(0 < j_637534575)) break Label4;
                j_637534575 -= 1;
                k1_637534574 = ((k1_637534574 << 8) | x_637534559[(i_637534573 + j_637534575)]);
              }
          } while (false);
          i_637534573 += stepSize_637534570;
          k1_637534574 = imul_637534525(k1_637534574, 3432918353);
          k1_637534574 = rotl32_637534546(k1_637534574, 15);
          k1_637534574 = imul_637534525(k1_637534574, 461845907);
          h1_637534572 = (h1_637534572 ^ k1_637534574);
          h1_637534572 = rotl32_637534546(h1_637534572, 13);
          h1_637534572 = ((((h1_637534572 * 5) >>> 0) + 3864292196) >>> 0);
        }
    } while (false);
    var k1_637534592 = 0;
    var rem_637534593 = Math.trunc(size_637534569 % stepSize_637534570);
    Label5: do {
        Label6: while (true) {
        if (!(0 < rem_637534593)) break Label6;
          rem_637534593 -= 1;
          k1_637534592 = ((k1_637534592 << 8) | x_637534559[(i_637534573 + rem_637534593)]);
        }
    } while (false);
    k1_637534592 = imul_637534525(k1_637534592, 3432918353);
    k1_637534592 = rotl32_637534546(k1_637534592, 15);
    k1_637534592 = imul_637534525(k1_637534592, 461845907);
    h1_637534572 = (h1_637534572 ^ k1_637534592);
    h1_637534572 = (h1_637534572 ^ size_637534569);
    h1_637534572 = (h1_637534572 ^ (h1_637534572 >>> 16));
    h1_637534572 = imul_637534525(h1_637534572, 2246822507);
    h1_637534572 = (h1_637534572 ^ (h1_637534572 >>> 13));
    h1_637534572 = imul_637534525(h1_637534572, 3266489909);
    h1_637534572 = (h1_637534572 ^ (h1_637534572 >>> 16));
    result_637534560 = (h1_637534572 | 0);
    break BeforeRet;
  } while (false);

  return result_637534560;

}

function hash_637534657(x_637534658) {
  var result_637534659 = 0;

    result_637534659 = murmurHash_637534558((x_637534658.slice(0, (x_637534658).length - 1 + 1)));

  return result_637534659;

}

function nextTry_721420322(h_721420323, maxHash_721420324) {
  var result_721420325 = 0;

    result_721420325 = ((h_721420323 + 1) & maxHash_721420324);

  return result_721420325;

}

function rawGet_620757358(t_620757361, key_620757362, hc_620757363, hc_620757363_Idx) {
            var Temporary3;

  var result_620757364 = 0;

  BeforeRet: do {
    hc_620757363[hc_620757363_Idx] = hash_637534657(key_620757362);
    if ((hc_620757363[hc_620757363_Idx] == 0)) {
    hc_620757363[hc_620757363_Idx] = 314159265;
    }
    
    if (((t_620757361.data).length == 0)) {
    result_620757364 = -1;
    break BeforeRet;
    }
    
    var h_620757415 = (hc_620757363[hc_620757363_Idx] & (t_620757361.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_620757361.data[h_620757415].Field0)) break Label2;
            if (!(t_620757361.data[h_620757415].Field0 == hc_620757363[hc_620757363_Idx])) Temporary3 = false; else {              Temporary3 = eqStrings(t_620757361.data[h_620757415].Field2, key_620757362);            }          if (Temporary3) {
          result_620757364 = h_620757415;
          break BeforeRet;
          }
          
          h_620757415 = nextTry_721420322(h_620757415, (t_620757361.data).length - 1);
        }
    } while (false);
    result_620757364 = (-1 - h_620757415);
  } while (false);

  return result_620757364;

}

function hasKey_620759569(t_620759572, key_620759573) {
  var result_620759574 = false;

    var hc_620759575 = [0];
    result_620759574 = (0 <= rawGet_620757358(t_620759572, key_620759573, hc_620759575, 0));

  return result_620759574;

}

function rawGet_620759650(t_620759653, key_620759654, hc_620759655, hc_620759655_Idx) {
            var Temporary3;

  var result_620759656 = 0;

  BeforeRet: do {
    hc_620759655[hc_620759655_Idx] = hash_637534657(key_620759654);
    if ((hc_620759655[hc_620759655_Idx] == 0)) {
    hc_620759655[hc_620759655_Idx] = 314159265;
    }
    
    if (((t_620759653.data).length == 0)) {
    result_620759656 = -1;
    break BeforeRet;
    }
    
    var h_620759707 = (hc_620759655[hc_620759655_Idx] & (t_620759653.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_620759653.data[h_620759707].Field0)) break Label2;
            if (!(t_620759653.data[h_620759707].Field0 == hc_620759655[hc_620759655_Idx])) Temporary3 = false; else {              Temporary3 = eqStrings(t_620759653.data[h_620759707].Field2, key_620759654);            }          if (Temporary3) {
          result_620759656 = h_620759707;
          break BeforeRet;
          }
          
          h_620759707 = nextTry_721420322(h_620759707, (t_620759653.data).length - 1);
        }
    } while (false);
    result_620759656 = (-1 - h_620759707);
  } while (false);

  return result_620759656;

}

function raiseKeyError_620759924(key_620759926) {
    raiseException({message: (makeNimstrLit("key not found: ") || []).concat(key_620759926 || []), parent: null, m_type: NTI33555126, name: null, trace: [], up: null}, "KeyError");

  
}

function HEX5BHEX5D_620759643(t_620759646, key_620759647) {
  var result_620759648 = null;
  var result_620759648_Idx = 0;

    var hcHEX60gensym89_620759649 = [0];
    var indexHEX60gensym89_620759870 = rawGet_620759650(t_620759646, key_620759647, hcHEX60gensym89_620759649, 0);
    if ((0 <= indexHEX60gensym89_620759870)) {
    result_620759648 = t_620759646.data[indexHEX60gensym89_620759870]; result_620759648_Idx = "Field3";
    }
    else {
    raiseKeyError_620759924(key_620759647);
    }
    

  return [result_620759648, result_620759648_Idx];

}

function HEX3DHEX3D_620759059(a_620759060, b_620759061) {
      var Temporary1;
        var Temporary2;
        var Temporary3;
        var Temporary4;
        var Temporary5;
        var Temporary6;
        var Temporary7;
        var Temporary8;
        var Temporary9;
        var Temporary10;
        var Temporary11;
          var Temporary12;
          var Temporary13;
          var Temporary15;
                  var Temporary18;
                  var Temporary19;
                  var Temporary20;

  var result_620759062 = false;

  BeforeRet: do {
    if ((a_620759060 == null)) {
    if ((b_620759061 == null)) {
    result_620759062 = true;
    break BeforeRet;
    }
    
    result_620759062 = false;
    break BeforeRet;
    }
    else {
      if ((b_620759061 == null)) Temporary1 = true; else {        Temporary1 = !((a_620759060.kind == b_620759061.kind));      }    if (Temporary1) {
    result_620759062 = false;
    break BeforeRet;
    }
    else {
      switch (a_620759060.kind) {
      case 4:
        var Temporary2 = a_620759060;
        if (ConstSet1[Temporary2.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'str\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary2.kind, NTI620756995)); }
        var Temporary3 = b_620759061;
        if (ConstSet3[Temporary3.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'str\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary3.kind, NTI620756995)); }
        result_620759062 = eqStrings(Temporary2.str, Temporary3.str);
        break;
      case 2:
        var Temporary4 = a_620759060;
        if (ConstSet4[Temporary4.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'num\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary4.kind, NTI620756995)); }
        var Temporary5 = b_620759061;
        if (ConstSet5[Temporary5.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'num\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary5.kind, NTI620756995)); }
        result_620759062 = (Temporary4.num == Temporary5.num);
        break;
      case 3:
        var Temporary6 = a_620759060;
        if (ConstSet6[Temporary6.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fnum\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary6.kind, NTI620756995)); }
        var Temporary7 = b_620759061;
        if (ConstSet7[Temporary7.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fnum\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary7.kind, NTI620756995)); }
        result_620759062 = (Temporary6.fnum == Temporary7.fnum);
        break;
      case 1:
        var Temporary8 = a_620759060;
        if (ConstSet8[Temporary8.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'bval\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary8.kind, NTI620756995)); }
        var Temporary9 = b_620759061;
        if (ConstSet9[Temporary9.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'bval\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary9.kind, NTI620756995)); }
        result_620759062 = (Temporary8.bval == Temporary9.bval);
        break;
      case 0:
        result_620759062 = true;
        break;
      case 6:
        var Temporary10 = a_620759060;
        if (ConstSet10[Temporary10.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'elems\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary10.kind, NTI620756995)); }
        var Temporary11 = b_620759061;
        if (ConstSet11[Temporary11.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'elems\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary11.kind, NTI620756995)); }
        result_620759062 = HEX3DHEX3D_620759076(Temporary10.elems, Temporary11.elems);
        break;
      case 5:
          var Temporary12 = a_620759060;
          if (ConstSet12[Temporary12.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fields\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary12.kind, NTI620756995)); }
          var Temporary13 = b_620759061;
          if (ConstSet13[Temporary13.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fields\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary13.kind, NTI620756995)); }
        if (!((len_620759147(Temporary12.fields) == len_620759147(Temporary13.fields)))) {
        result_620759062 = false;
        break BeforeRet;
        }
        
        Label14: do {
          var key_620759527 = [];
          var val_620759528 = null;
          var colontmp__469762078 = ({data: [], counter: 0, first: 0, last: 0});
          var Temporary15 = a_620759060;
          if (ConstSet14[Temporary15.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fields\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary15.kind, NTI620756995)); }
          colontmp__469762078 = nimCopy(colontmp__469762078, Temporary15.fields, NTI620757006);
          var L_469762080 = len_620759147(colontmp__469762078);
          if ((0 < colontmp__469762078.counter)) {
          var h_469762081 = colontmp__469762078.first;
          Label16: do {
              Label17: while (true) {
              if (!(0 <= h_469762081)) break Label17;
                var nxt_469762083 = colontmp__469762078.data[h_469762081].Field1;
                if (isFilled_721420319(colontmp__469762078.data[h_469762081].Field0)) {
                key_620759527 = colontmp__469762078.data[h_469762081].Field2;
                val_620759528 = colontmp__469762078.data[h_469762081].Field3;
                  var Temporary18 = b_620759061;
                  if (ConstSet15[Temporary18.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fields\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary18.kind, NTI620756995)); }
                if (!(hasKey_620759569(Temporary18.fields, key_620759527))) {
                result_620759062 = false;
                break BeforeRet;
                }
                
                  var Temporary19 = b_620759061;
                  if (ConstSet16[Temporary19.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fields\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary19.kind, NTI620756995)); }
                if (!(HEX3DHEX3D_620759059((Temporary20 = HEX5BHEX5D_620759643(Temporary19.fields, key_620759527), Temporary20)[0][Temporary20[1]], val_620759528))) {
                result_620759062 = false;
                break BeforeRet;
                }
                
                }
                
                h_469762081 = nxt_469762083;
              }
          } while (false);
          }
          
        } while (false);
        result_620759062 = true;
        break;
      }
    }
    }
  } while (false);

  return result_620759062;

}

function invalidFormatString_872417296() {
    raiseException({message: makeNimstrLit("invalid format string"), parent: null, m_type: NTI33555125, name: null, trace: [], up: null}, "ValueError");

  
}

function toLowerAscii_989855745(c_989855746) {
  var result_989855747 = 0;

    if ((ConstSet21[c_989855746] != undefined)) {
    result_989855747 = (c_989855746 + 32);
    }
    else {
      result_989855747 = c_989855746;
    }
    

  return result_989855747;

}

function nsuCmpIgnoreStyle(a_872415422, b_872415423) {
          var Temporary7;
          var Temporary8;

  var result_872415424 = 0;

  BeforeRet: do {
    var aLenHEX60gensym25_872415433 = (a_872415422).length;
    var bLenHEX60gensym25_872415434 = (b_872415423).length;
    var iHEX60gensym25_872415435 = 0;
    var jHEX60gensym25_872415436 = 0;
    Label1: do {
        Label2: while (true) {
        if (!true) break Label2;
          Label3: do {
              Label4: while (true) {
              if (!((iHEX60gensym25_872415435 < aLenHEX60gensym25_872415433) && (a_872415422[iHEX60gensym25_872415435] == 95))) break Label4;
                iHEX60gensym25_872415435 += 1;
              }
          } while (false);
          Label5: do {
              Label6: while (true) {
              if (!((jHEX60gensym25_872415436 < bLenHEX60gensym25_872415434) && (b_872415423[jHEX60gensym25_872415436] == 95))) break Label6;
                jHEX60gensym25_872415436 += 1;
              }
          } while (false);
          if ((iHEX60gensym25_872415435 < aLenHEX60gensym25_872415433)) {
          Temporary7 = toLowerAscii_989855745(a_872415422[iHEX60gensym25_872415435]);
          }
          else {
          Temporary7 = 0;
          }
          
          var aaHEX60gensym25_872415445 = Temporary7;
          if ((jHEX60gensym25_872415436 < bLenHEX60gensym25_872415434)) {
          Temporary8 = toLowerAscii_989855745(b_872415423[jHEX60gensym25_872415436]);
          }
          else {
          Temporary8 = 0;
          }
          
          var bbHEX60gensym25_872415446 = Temporary8;
          result_872415424 = (aaHEX60gensym25_872415445 - bbHEX60gensym25_872415446);
          if (!((result_872415424 == 0))) {
          break BeforeRet;
          }
          
          if ((aLenHEX60gensym25_872415433 <= iHEX60gensym25_872415435)) {
          if ((bLenHEX60gensym25_872415434 <= jHEX60gensym25_872415436)) {
          result_872415424 = 0;
          break BeforeRet;
          }
          
          result_872415424 = -1;
          break BeforeRet;
          }
          else {
          if ((bLenHEX60gensym25_872415434 <= jHEX60gensym25_872415436)) {
          result_872415424 = 1;
          break BeforeRet;
          }
          }
          iHEX60gensym25_872415435 += 1;
          jHEX60gensym25_872415436 += 1;
        }
    } while (false);
  } while (false);

  return result_872415424;

}

function findNormalized_872417284(x_872417285, inArray_872417286) {
  var result_872417287 = 0;

  BeforeRet: do {
    var i_872417288 = 0;
    Label1: do {
        Label2: while (true) {
        if (!(i_872417288 < (inArray_872417286).length - 1)) break Label2;
          if ((nsuCmpIgnoreStyle(x_872417285, inArray_872417286[i_872417288]) == 0)) {
          result_872417287 = i_872417288;
          break BeforeRet;
          }
          
          i_872417288 += 2;
        }
    } while (false);
    result_872417287 = -1;
    break BeforeRet;
  } while (false);

  return result_872417287;

}

function substr_33557906(s_33557907, first_33557908, last_33557909) {
  var result_33557910 = [];

    var first_33557911 = nimMax(first_33557908, 0);
    var L_33557912 = nimMax(((nimMin(last_33557909, (s_33557907).length - 1) - first_33557911) + 1), 0);
    result_33557910 = nimCopy(null, mnewString(L_33557912), NTI33554439);
    Label1: do {
      var i_33557917 = 0;
      var colontmp__469762106 = 0;
      colontmp__469762106 = (L_33557912 - 1);
      var res_469762107 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(res_469762107 <= colontmp__469762106)) break Label3;
            i_33557917 = res_469762107;
            result_33557910[i_33557917] = s_33557907[(i_33557917 + first_33557911)];
            res_469762107 += 1;
          }
      } while (false);
    } while (false);

  return result_33557910;

}

function nsuAddf(s_872417299, s_872417299_Idx, formatstr_872417300, a_872417301) {
                  var Temporary5;
            var Temporary6;
              var Temporary7;
            var Temporary10;
              var Temporary11;
                var Temporary12;
                  var Temporary15;
              var Temporary16;

    var i_872417303 = 0;
    var num_872417304 = 0;
    Label1: do {
        Label2: while (true) {
        if (!(i_872417303 < (formatstr_872417300).length)) break Label2;
          if (((formatstr_872417300[i_872417303] == 36) && ((i_872417303 + 1) < (formatstr_872417300).length))) {
          switch (formatstr_872417300[(i_872417303 + 1)]) {
          case 35:
            if (((a_872417301).length - 1 < num_872417304)) {
            invalidFormatString_872417296();
            }
            
            s_872417299[s_872417299_Idx].push.apply(s_872417299[s_872417299_Idx], a_872417301[num_872417304]);;
            i_872417303 += 2;
            num_872417304 += 1;
            break;
          case 36:
            addChar(s_872417299[s_872417299_Idx], 36);;
            i_872417303 += 2;
            break;
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 45:
            var j_872417320 = 0;
            i_872417303 += 1;
            var negative_872417325 = (formatstr_872417300[i_872417303] == 45);
            if (negative_872417325) {
            i_872417303 += 1;
            }
            
            Label3: do {
                Label4: while (true) {
                  if (!(i_872417303 < (formatstr_872417300).length)) Temporary5 = false; else {                    Temporary5 = (ConstSet18[formatstr_872417300[i_872417303]] != undefined);                  }                if (!Temporary5) break Label4;
                  j_872417320 = (((j_872417320 * 10) + formatstr_872417300[i_872417303]) - 48);
                  i_872417303 += 1;
                }
            } while (false);
            if (!(negative_872417325)) {
            Temporary6 = (j_872417320 - 1);
            }
            else {
            Temporary6 = ((a_872417301).length - j_872417320);
            }
            
            var idx_872417348 = Temporary6;
              if ((idx_872417348 < 0)) Temporary7 = true; else {                Temporary7 = ((a_872417301).length - 1 < idx_872417348);              }            if (Temporary7) {
            invalidFormatString_872417296();
            }
            
            s_872417299[s_872417299_Idx].push.apply(s_872417299[s_872417299_Idx], a_872417301[idx_872417348]);;
            break;
          case 123:
            var j_872417352 = (i_872417303 + 2);
            var k_872417353 = 0;
            var negative_872417354 = (formatstr_872417300[j_872417352] == 45);
            if (negative_872417354) {
            j_872417352 += 1;
            }
            
            var isNumber_872417359 = 0;
            Label8: do {
                Label9: while (true) {
                if (!((j_872417352 < (formatstr_872417300).length) && !((ConstSet19[formatstr_872417300[j_872417352]] != undefined)))) break Label9;
                  if ((ConstSet20[formatstr_872417300[j_872417352]] != undefined)) {
                  k_872417353 = (((k_872417353 * 10) + formatstr_872417300[j_872417352]) - 48);
                  if ((isNumber_872417359 == 0)) {
                  isNumber_872417359 = 1;
                  }
                  
                  }
                  else {
                    isNumber_872417359 = -1;
                  }
                  
                  j_872417352 += 1;
                }
            } while (false);
            if ((isNumber_872417359 == 1)) {
            if (!(negative_872417354)) {
            Temporary10 = (k_872417353 - 1);
            }
            else {
            Temporary10 = ((a_872417301).length - k_872417353);
            }
            
            var idx_872417381 = Temporary10;
              if ((idx_872417381 < 0)) Temporary11 = true; else {                Temporary11 = ((a_872417301).length - 1 < idx_872417381);              }            if (Temporary11) {
            invalidFormatString_872417296();
            }
            
            s_872417299[s_872417299_Idx].push.apply(s_872417299[s_872417299_Idx], a_872417301[idx_872417381]);;
            }
            else {
              var x_872417385 = findNormalized_872417284(substr_33557906(formatstr_872417300, (i_872417303 + 2), (j_872417352 - 1)), a_872417301);
                if (!(0 <= x_872417385)) Temporary12 = false; else {                  Temporary12 = (x_872417385 < (a_872417301).length - 1);                }              if (Temporary12) {
              s_872417299[s_872417299_Idx].push.apply(s_872417299[s_872417299_Idx], a_872417301[(x_872417385 + 1)]);;
              }
              else {
              invalidFormatString_872417296();
              }
              
            }
            
            i_872417303 = (j_872417352 + 1);
            break;
          case 97:
          case 98:
          case 99:
          case 100:
          case 101:
          case 102:
          case 103:
          case 104:
          case 105:
          case 106:
          case 107:
          case 108:
          case 109:
          case 110:
          case 111:
          case 112:
          case 113:
          case 114:
          case 115:
          case 116:
          case 117:
          case 118:
          case 119:
          case 120:
          case 121:
          case 122:
          case 65:
          case 66:
          case 67:
          case 68:
          case 69:
          case 70:
          case 71:
          case 72:
          case 73:
          case 74:
          case 75:
          case 76:
          case 77:
          case 78:
          case 79:
          case 80:
          case 81:
          case 82:
          case 83:
          case 84:
          case 85:
          case 86:
          case 87:
          case 88:
          case 89:
          case 90:
          case 128:
          case 129:
          case 130:
          case 131:
          case 132:
          case 133:
          case 134:
          case 135:
          case 136:
          case 137:
          case 138:
          case 139:
          case 140:
          case 141:
          case 142:
          case 143:
          case 144:
          case 145:
          case 146:
          case 147:
          case 148:
          case 149:
          case 150:
          case 151:
          case 152:
          case 153:
          case 154:
          case 155:
          case 156:
          case 157:
          case 158:
          case 159:
          case 160:
          case 161:
          case 162:
          case 163:
          case 164:
          case 165:
          case 166:
          case 167:
          case 168:
          case 169:
          case 170:
          case 171:
          case 172:
          case 173:
          case 174:
          case 175:
          case 176:
          case 177:
          case 178:
          case 179:
          case 180:
          case 181:
          case 182:
          case 183:
          case 184:
          case 185:
          case 186:
          case 187:
          case 188:
          case 189:
          case 190:
          case 191:
          case 192:
          case 193:
          case 194:
          case 195:
          case 196:
          case 197:
          case 198:
          case 199:
          case 200:
          case 201:
          case 202:
          case 203:
          case 204:
          case 205:
          case 206:
          case 207:
          case 208:
          case 209:
          case 210:
          case 211:
          case 212:
          case 213:
          case 214:
          case 215:
          case 216:
          case 217:
          case 218:
          case 219:
          case 220:
          case 221:
          case 222:
          case 223:
          case 224:
          case 225:
          case 226:
          case 227:
          case 228:
          case 229:
          case 230:
          case 231:
          case 232:
          case 233:
          case 234:
          case 235:
          case 236:
          case 237:
          case 238:
          case 239:
          case 240:
          case 241:
          case 242:
          case 243:
          case 244:
          case 245:
          case 246:
          case 247:
          case 248:
          case 249:
          case 250:
          case 251:
          case 252:
          case 253:
          case 254:
          case 255:
          case 95:
            var j_872417389 = (i_872417303 + 1);
            Label13: do {
                Label14: while (true) {
                  if (!(j_872417389 < (formatstr_872417300).length)) Temporary15 = false; else {                    Temporary15 = (ConstSet22[formatstr_872417300[j_872417389]] != undefined);                  }                if (!Temporary15) break Label14;
                  j_872417389 += 1;
                }
            } while (false);
            var x_872417398 = findNormalized_872417284(substr_33557906(formatstr_872417300, (i_872417303 + 1), (j_872417389 - 1)), a_872417301);
              if (!(0 <= x_872417398)) Temporary16 = false; else {                Temporary16 = (x_872417398 < (a_872417301).length - 1);              }            if (Temporary16) {
            s_872417299[s_872417299_Idx].push.apply(s_872417299[s_872417299_Idx], a_872417301[(x_872417398 + 1)]);;
            }
            else {
            invalidFormatString_872417296();
            }
            
            i_872417303 = j_872417389;
            break;
          default: 
            invalidFormatString_872417296();
            break;
          }
          }
          else {
            addChar(s_872417299[s_872417299_Idx], formatstr_872417300[i_872417303]);;
            i_872417303 += 1;
          }
          
        }
    } while (false);

  
}

function nsuFormatOpenArray(formatstr_872417407, a_872417408) {
  var result_872417409 = [[]];

    result_872417409[0] = nimCopy(null, mnewString(0), NTI33554439);
    nsuAddf(result_872417409, 0, formatstr_872417407, a_872417408);

  return result_872417409[0];

}

function addQuoted_620762461(s_620762463, s_620762463_Idx, x_620762464) {
    s_620762463[s_620762463_Idx].push.apply(s_620762463[s_620762463_Idx], reprEnum(x_620762464, NTI620756995));;

  
}

function collectionToString_620762429(x_620762431, prefix_620762432, separator_620762433, suffix_620762434) {
  var result_620762435 = [[]];

    result_620762435[0] = nimCopy(null, prefix_620762432, NTI33554439);
    var firstElement_620762436 = true;
    Label1: do {
      var value_620762457 = 0;
      var i_469762111 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(i_469762111 <= 6)) break Label3;
            if ((x_620762431[i_469762111] != undefined)) {
            value_620762457 = i_469762111;
            if (firstElement_620762436) {
            firstElement_620762436 = false;
            }
            else {
            result_620762435[0].push.apply(result_620762435[0], separator_620762433);;
            }
            
            addQuoted_620762461(result_620762435, 0, value_620762457);
            }
            
            i_469762111 += 1;
          }
      } while (false);
    } while (false);
    result_620762435[0].push.apply(result_620762435[0], suffix_620762434);;

  return result_620762435[0];

}

function HEX24_620762425(x_620762427) {
  var result_620762428 = [];

    result_620762428 = nimCopy(null, collectionToString_620762429(x_620762427, makeNimstrLit("{"), makeNimstrLit(", "), makeNimstrLit("}")), NTI33554439);

  return result_620762428;

}

function initFromJson_620762346(dst_620762347, dst_620762347_Idx, jsonNode_620762348, jsonPath_620762349, jsonPath_620762349_Idx) {
      var Temporary1;

    if (HEX3DHEX3D_620759059(jsonNode_620762348, null)) {
    raiseException({message: (makeNimstrLit("key not found: ") || []).concat(jsonPath_620762349[jsonPath_620762349_Idx] || []), parent: null, m_type: NTI33555126, name: null, trace: [], up: null}, "KeyError");
    }
    else {
    if (!((ConstSet17[jsonNode_620762348.kind] != undefined))) {
    var msgHEX60gensym99_620762482 = nsuFormatOpenArray(makeNimstrLit("Incorrect JSON kind. Wanted \'$1\' in \'$2\' but got \'$3\'."), [HEX24_620762425(ConstSet23), nimCopy(null, jsonPath_620762349[jsonPath_620762349_Idx], NTI33554439), reprEnum(jsonNode_620762348.kind, NTI620756995)]);
    raiseException({message: nimCopy(null, msgHEX60gensym99_620762482, NTI33554439), parent: null, m_type: NTI1056964616, name: null, trace: [], up: null}, "JsonKindError");
    }
    }
    if ((jsonNode_620762348.kind == 0)) {
    dst_620762347[dst_620762347_Idx] = nimCopy(null, [], NTI33554439);
    }
    else {
      var Temporary1 = jsonNode_620762348;
      if (ConstSet24[Temporary1.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'str\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary1.kind, NTI620756995)); }
      dst_620762347[dst_620762347_Idx] = nimCopy(null, Temporary1.str, NTI33554439);
    }
    

  
}

function to_469762069(node_469762072) {
  var result_469762074 = [[]];

    var jsonPath_469762075 = [[]];
    initFromJson_620762346(result_469762074, 0, node_469762072, jsonPath_469762075, 0);

  return result_469762074[0];

}

function getVarType_620762270(x_620762271, isRawNumber_620762272, isRawNumber_620762272_Idx) {
        var Temporary1;

  var result_620762273 = 0;

  BeforeRet: do {
    result_620762273 = 0;
    switch (toJSStr(cstrToNimstr(Object.prototype.toString.call(x_620762271)))) {
    case "[object Array]":
      result_620762273 = 6;
      break BeforeRet;
      break;
    case "[object Object]":
      result_620762273 = 5;
      break BeforeRet;
      break;
    case "[object Number]":
        if (!Number.isInteger(x_620762271)) Temporary1 = false; else {          Temporary1 = !(((1.0 / x_620762271) == -Infinity));        }      if (Temporary1) {
      if (Number.isSafeInteger(x_620762271)) {
      result_620762273 = 2;
      break BeforeRet;
      }
      else {
        isRawNumber_620762272[isRawNumber_620762272_Idx] = true;
        result_620762273 = 4;
        break BeforeRet;
      }
      
      }
      else {
        result_620762273 = 3;
        break BeforeRet;
      }
      
      break;
    case "[object Boolean]":
      result_620762273 = 1;
      break BeforeRet;
      break;
    case "[object Null]":
      result_620762273 = 0;
      break BeforeRet;
      break;
    case "[object String]":
      result_620762273 = 4;
      break BeforeRet;
      break;
    default: 
      break;
    }
  } while (false);

  return result_620762273;

}

function newJArray_620757125() {
  var result_620757126 = null;

    result_620757126 = {kind: 6, elems: [], isUnquoted: false, str: [], num: 0, fnum: 0.0, bval: false, fields: ({data: [], counter: 0, first: 0, last: 0})};

  return result_620757126;

}

function len_620762289(x_620762290) {
  var result_620762291 = 0;

          result_620762291 = x_620762290.length;
    

  return result_620762291;

}

function add_620757224(father_620757225, child_620757226) {
    var Temporary1;

    var Temporary1 = father_620757225;
    if (ConstSet25[Temporary1.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'elems\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary1.kind, NTI620756995)); }
    Temporary1.elems.push(child_620757226);;

  
}

function nextPowerOfTwo_738197676(x_738197677) {
  var result_738197678 = 0;

    result_738197678 = (x_738197677 - 1);
    result_738197678 = (result_738197678 | (result_738197678 >> 16));
    result_738197678 = (result_738197678 | (result_738197678 >> 8));
    result_738197678 = (result_738197678 | (result_738197678 >> 4));
    result_738197678 = (result_738197678 | (result_738197678 >> 2));
    result_738197678 = (result_738197678 | (result_738197678 >> 1));
    result_738197678 += (1 + ((x_738197677 <= 0) ? 1 : 0));

  return result_738197678;

}

function slotsNeeded_721420330(count_721420331) {
  var result_721420332 = 0;

    result_721420332 = nextPowerOfTwo_738197676((Math.trunc((count_721420331 * 3) / 2) + 4));

  return result_721420332;

}

function initOrderedTable_620757096(initialSize_620757099) {
  var result_620757100 = ({data: [], counter: 0, first: 0, last: 0});

    var correctSizeHEX60gensym0_620757102 = slotsNeeded_721420330(initialSize_620757099);
    result_620757100.counter = 0;
    result_620757100.data = new Array(correctSizeHEX60gensym0_620757102); for (var i = 0 ; i < correctSizeHEX60gensym0_620757102 ; ++i) { result_620757100.data[i] = {Field0: 0, Field1: 0, Field2: [], Field3: null}; }    result_620757100.first = -1;
    result_620757100.last = -1;

  return result_620757100;

}

function newJObject_620757094() {
  var result_620757095 = null;

    result_620757095 = {kind: 5, fields: initOrderedTable_620757096(2), isUnquoted: false, str: [], num: 0, fnum: 0.0, bval: false, elems: []};

  return result_620757095;

}

function mustRehash_620757694(t_620757696) {
  var result_620757697 = false;

    result_620757697 = ((((t_620757696.data).length * 2) < (t_620757696.counter * 3)) || (((t_620757696.data).length - t_620757696.counter) < 4));

  return result_620757697;

}

function rawInsert_620758270(t_620758273, data_620758274, data_620758274_Idx, key_620758275, val_620758276, hc_620758277, h_620758278) {
    data_620758274[data_620758274_Idx][h_620758278].Field2 = nimCopy(null, key_620758275, NTI33554439);
    data_620758274[data_620758274_Idx][h_620758278].Field3 = val_620758276;
    data_620758274[data_620758274_Idx][h_620758278].Field0 = hc_620758277;
    data_620758274[data_620758274_Idx][h_620758278].Field1 = -1;
    if ((t_620758273.first < 0)) {
    t_620758273.first = h_620758278;
    }
    
    if ((0 <= t_620758273.last)) {
    data_620758274[data_620758274_Idx][t_620758273.last].Field1 = h_620758278;
    }
    
    t_620758273.last = h_620758278;

  
}

function enlarge_620757855(t_620757858) {
          var Temporary6;
          var Temporary7;

    var n_620757861 = [];
    n_620757861 = new Array(((t_620757858.data).length * 2)); for (var i = 0 ; i < ((t_620757858.data).length * 2) ; ++i) { n_620757861[i] = {Field0: 0, Field1: 0, Field2: [], Field3: null}; }    var h_620757913 = t_620757858.first;
    t_620757858.first = -1;
    t_620757858.last = -1;
    var Temporary1 = t_620757858.data; t_620757858.data = n_620757861; n_620757861 = Temporary1;    Label2: do {
        Label3: while (true) {
        if (!(0 <= h_620757913)) break Label3;
          var nxt_620757971 = n_620757861[h_620757913].Field1;
          var eh_620758025 = n_620757861[h_620757913].Field0;
          if (isFilled_721420319(eh_620758025)) {
          var j_620758029 = (eh_620758025 & (t_620757858.data).length - 1);
          Label4: do {
              Label5: while (true) {
              if (!isFilled_721420319(t_620757858.data[j_620758029].Field0)) break Label5;
                j_620758029 = nextTry_721420322(j_620758029, (t_620757858.data).length - 1);
              }
          } while (false);
          Temporary6 = n_620757861[h_620757913].Field2;
          n_620757861[h_620757913].Field2 = genericReset(n_620757861[h_620757913].Field2, NTI33554439);
          Temporary7 = n_620757861[h_620757913].Field3;
          n_620757861[h_620757913].Field3 = genericReset(n_620757861[h_620757913].Field3, NTI620756996);
          rawInsert_620758270(t_620757858, t_620757858, "data", Temporary6, Temporary7, n_620757861[h_620757913].Field0, j_620758029);
          }
          
          h_620757913 = nxt_620757971;
        }
    } while (false);

  
}

function rawGetKnownHC_620758552(t_620758555, key_620758556, hc_620758557) {
  var result_620758558 = 0;

  BeforeRet: do {
    if (((t_620758555.data).length == 0)) {
    result_620758558 = -1;
    break BeforeRet;
    }
    
    var h_620758609 = (hc_620758557 & (t_620758555.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_620758555.data[h_620758609].Field0)) break Label2;
          if (((t_620758555.data[h_620758609].Field0 == hc_620758557) && eqStrings(t_620758555.data[h_620758609].Field2, key_620758556))) {
          result_620758558 = h_620758609;
          break BeforeRet;
          }
          
          h_620758609 = nextTry_721420322(h_620758609, (t_620758555.data).length - 1);
        }
    } while (false);
    result_620758558 = (-1 - h_620758609);
  } while (false);

  return result_620758558;

}

function HEX5BHEX5DHEX3D_620757289(t_620757292, key_620757293, val_620757294) {
    if (((t_620757292.data).length == 0)) {
    var correctSizeHEX60gensym13_620757344 = slotsNeeded_721420330(32);
    t_620757292.counter = 0;
    t_620757292.data = new Array(correctSizeHEX60gensym13_620757344); for (var i = 0 ; i < correctSizeHEX60gensym13_620757344 ; ++i) { t_620757292.data[i] = {Field0: 0, Field1: 0, Field2: [], Field3: null}; }    t_620757292.first = -1;
    t_620757292.last = -1;
    }
    
    var hc_620757349 = [0];
    var index_620757587 = rawGet_620757358(t_620757292, key_620757293, hc_620757349, 0);
    if ((0 <= index_620757587)) {
    t_620757292.data[index_620757587].Field3 = val_620757294;
    }
    else {
      if (((t_620757292.data).length == 0)) {
      var correctSizeHEX60gensym18_620757689 = slotsNeeded_721420330(32);
      t_620757292.counter = 0;
      t_620757292.data = new Array(correctSizeHEX60gensym18_620757689); for (var i = 0 ; i < correctSizeHEX60gensym18_620757689 ; ++i) { t_620757292.data[i] = {Field0: 0, Field1: 0, Field2: [], Field3: null}; }      t_620757292.first = -1;
      t_620757292.last = -1;
      }
      
      if (mustRehash_620757694(t_620757292)) {
      enlarge_620757855(t_620757292);
      index_620757587 = rawGetKnownHC_620758552(t_620757292, key_620757293, hc_620757349[0]);
      }
      
      index_620757587 = (-1 - index_620757587);
      rawInsert_620758270(t_620757292, t_620757292, "data", key_620757293, val_620757294, hc_620757349[0], index_620757587);
      t_620757292.counter += 1;
    }
    

  
}

function HEX5BHEX5DHEX3D_620758929(obj_620758930, key_620758931, val_620758932) {
    var Temporary1;

    var Temporary1 = obj_620758930;
    if (ConstSet26[Temporary1.kind]===undefined) { raiseFieldError2(makeNimstrLit("field \'fields\' is not accessible for type \'JsonNodeObj\' using \'kind = "), reprDiscriminant(Temporary1.kind, NTI620756995)); }
    HEX5BHEX5DHEX3D_620757289(Temporary1.fields, key_620758931, val_620758932);

  
}

function newJInt_620757083(n_620757084) {
  var result_620757085 = null;

    result_620757085 = {kind: 2, num: n_620757084, isUnquoted: false, str: [], fnum: 0.0, bval: false, fields: ({data: [], counter: 0, first: 0, last: 0}), elems: []};

  return result_620757085;

}

function newJFloat_620757086(n_620757087) {
  var result_620757088 = null;

    result_620757088 = {kind: 3, fnum: n_620757087, isUnquoted: false, str: [], num: 0, bval: false, fields: ({data: [], counter: 0, first: 0, last: 0}), elems: []};

  return result_620757088;

}

function newJRawNumber_620757077(s_620757078) {
  var result_620757079 = null;

    result_620757079 = {kind: 4, str: nimCopy(null, s_620757078, NTI33554439), isUnquoted: true, num: 0, fnum: 0.0, bval: false, fields: ({data: [], counter: 0, first: 0, last: 0}), elems: []};

  return result_620757079;

}

function newJString_620757034(s_620757035) {
  var result_620757036 = null;

    result_620757036 = {kind: 4, str: nimCopy(null, s_620757035, NTI33554439), isUnquoted: false, num: 0, fnum: 0.0, bval: false, fields: ({data: [], counter: 0, first: 0, last: 0}), elems: []};

  return result_620757036;

}

function newJBool_620757089(b_620757090) {
  var result_620757091 = null;

    result_620757091 = {kind: 1, bval: b_620757090, isUnquoted: false, str: [], num: 0, fnum: 0.0, fields: ({data: [], counter: 0, first: 0, last: 0}), elems: []};

  return result_620757091;

}

function newJNull_620757092() {
  var result_620757093 = null;

    result_620757093 = {kind: 0, isUnquoted: false, str: [], num: 0, fnum: 0.0, bval: false, fields: ({data: [], counter: 0, first: 0, last: 0}), elems: []};

  return result_620757093;

}

function convertObject_620762292(x_620762293) {
  var result_620762294 = null;

    var isRawNumber_620762295 = [false];
    switch (getVarType_620762270(x_620762293, isRawNumber_620762295, 0)) {
    case 6:
      result_620762294 = newJArray_620757125();
      Label1: do {
        var i_620762300 = 0;
        var colontmp__469762114 = 0;
        colontmp__469762114 = len_620762289(x_620762293);
        var i_469762115 = 0;
        Label2: do {
            Label3: while (true) {
            if (!(i_469762115 < colontmp__469762114)) break Label3;
              i_620762300 = i_469762115;
              add_620757224(result_620762294, convertObject_620762292(x_620762293[i_620762300]));
              i_469762115 += 1;
            }
        } while (false);
      } while (false);
      break;
    case 5:
      result_620762294 = newJObject_620757094();
      for (var property in x_620762293) {
        if (x_620762293.hasOwnProperty(property)) {
      
      var nimProperty_620762301 = null;
      var nimValue_620762302 = null;
      nimProperty_620762301 = property; nimValue_620762302 = x_620762293[property];
      HEX5BHEX5DHEX3D_620758929(result_620762294, cstrToNimstr(nimProperty_620762301), convertObject_620762292(nimValue_620762302));
      }}
      break;
    case 2:
      result_620762294 = newJInt_620757083((x_620762293));
      break;
    case 3:
      result_620762294 = newJFloat_620757086((x_620762293));
      break;
    case 4:
      if (isRawNumber_620762295[0]) {
      var value_620762311 = null;
      value_620762311 = x_620762293.toString();
      result_620762294 = newJRawNumber_620757077(cstrToNimstr(value_620762311));
      }
      else {
        result_620762294 = newJString_620757034(cstrToNimstr((x_620762293)));
      }
      
      break;
    case 1:
      result_620762294 = newJBool_620757089((x_620762293));
      break;
    case 0:
      result_620762294 = newJNull_620757092();
      break;
    }

  return result_620762294;

}

function parseJson_620762320(buffer_620762321) {
  var result_620762322 = null;

  BeforeRet: do {
    result_620762322 = convertObject_620762292(JSON.parse(toJSStr(buffer_620762321)));
    break BeforeRet;
  } while (false);

  return result_620762322;

}
var input_469762076 = to_469762069(parseJson_620762320(makeNimstrLit("\"C Z\\nC Z\\nA Y\\nA X\\nC Z\\nC Z\\nA X\\nC X\\nA X\\nC X\\nA X\\nA X\\nA X\\nA X\\nC Y\\nA X\\nA X\\nA Y\\nC Z\\nC X\\nC Z\\nC Y\\nB Y\\nC Y\\nC X\\nC X\\nA Z\\nC Y\\nA Z\\nA Z\\nB X\\nA Y\\nA X\\nB Y\\nC X\\nA X\\nA X\\nC Z\\nC Y\\nB X\\nA Y\\nC Z\\nC Y\\nC Z\\nC Z\\nA X\\nC Z\\nC Y\\nC X\\nC Z\\nA X\\nC Z\\nA Y\\nA X\\nA X\\nA X\\nA X\\nC X\\nA X\\nA X\\nC X\\nA X\\nC Y\\nC Y\\nA X\\nC Z\\nC Y\\nA X\\nC Z\\nC Y\\nC Z\\nC Z\\nB X\\nC Z\\nC X\\nC X\\nB Z\\nA X\\nA X\\nC Z\\nC X\\nC X\\nA X\\nA Y\\nC X\\nC Y\\nA X\\nC Z\\nA Z\\nC Z\\nA Z\\nA Z\\nC X\\nA X\\nA X\\nC Z\\nC Y\\nC Z\\nA X\\nA X\\nC X\\nA X\\nC X\\nA X\\nA Z\\nA Y\\nC Y\\nA Y\\nC Z\\nA X\\nA Y\\nC X\\nA Z\\nC Y\\nC Z\\nC Z\\nA Y\\nC Z\\nA Z\\nC Z\\nA Z\\nA Z\\nA X\\nC X\\nA Y\\nA X\\nC Z\\nA X\\nC Z\\nC Z\\nA X\\nC Z\\nC X\\nA Z\\nA X\\nA Z\\nA X\\nC Z\\nA X\\nC X\\nA X\\nA X\\nC X\\nC Z\\nC Y\\nC Z\\nA Y\\nC Z\\nC Z\\nA X\\nC X\\nB X\\nC X\\nA X\\nC Y\\nC Z\\nC Z\\nC Z\\nA Z\\nC Y\\nA X\\nC X\\nB X\\nB X\\nC Y\\nC X\\nA X\\nC X\\nC X\\nA Y\\nC Z\\nA X\\nA X\\nA X\\nC Z\\nA X\\nC Z\\nC Y\\nC Z\\nC X\\nA X\\nC Z\\nA X\\nC Z\\nC X\\nC X\\nA X\\nC Z\\nC Z\\nC X\\nA Y\\nB X\\nB Z\\nA Z\\nC Z\\nA X\\nA X\\nA X\\nC X\\nC X\\nC Y\\nC Z\\nA Y\\nB Z\\nA X\\nC X\\nC X\\nC X\\nC Y\\nC X\\nA X\\nA X\\nA Z\\nA X\\nA X\\nC Z\\nC Z\\nC Z\\nA X\\nC X\\nC X\\nC Y\\nA X\\nC Z\\nA Z\\nC X\\nA X\\nC X\\nC Z\\nA X\\nA X\\nC Z\\nC X\\nC Y\\nA X\\nC Y\\nC Z\\nA Z\\nC X\\nA X\\nA X\\nA X\\nA Z\\nC X\\nC X\\nA X\\nA X\\nB X\\nC Y\\nC X\\nC Z\\nC Y\\nA X\\nC X\\nC Z\\nC Y\\nC Y\\nC X\\nC Y\\nB X\\nC X\\nC Y\\nA X\\nC Z\\nC Y\\nA X\\nA X\\nC X\\nA X\\nA X\\nA Z\\nC X\\nA Z\\nC X\\nC X\\nC X\\nC Y\\nA Z\\nC Z\\nA X\\nB X\\nC X\\nA X\\nA Z\\nC X\\nC Z\\nB X\\nC X\\nA X\\nA Y\\nA Z\\nC Z\\nC Z\\nC X\\nA Z\\nC Z\\nC Z\\nC X\\nC Y\\nC Z\\nC Z\\nC X\\nA Z\\nC Z\\nC X\\nA X\\nA X\\nA X\\nA Z\\nA Z\\nC Z\\nA X\\nC X\\nA X\\nC X\\nC Z\\nC X\\nC X\\nA X\\nC X\\nB Y\\nA X\\nB X\\nA X\\nC X\\nC Z\\nA X\\nC X\\nA X\\nA X\\nC Z\\nC X\\nC X\\nC X\\nC Z\\nA X\\nB X\\nA Z\\nC X\\nB Z\\nC Z\\nB Z\\nC Z\\nA Y\\nA X\\nB Y\\nA X\\nA X\\nC Z\\nC X\\nA X\\nB X\\nC X\\nB Z\\nC Z\\nA X\\nA X\\nA X\\nA X\\nA X\\nA X\\nA X\\nC Y\\nA Y\\nC X\\nC Z\\nC X\\nC Y\\nC Z\\nC X\\nA X\\nC Z\\nA X\\nA Z\\nC X\\nC Z\\nC Y\\nA X\\nC X\\nC Z\\nA X\\nA Y\\nC X\\nA X\\nC Y\\nA Y\\nC Y\\nA Z\\nC Z\\nA X\\nC Z\\nC Z\\nA X\\nC Z\\nA Z\\nC X\\nC Z\\nB X\\nC X\\nA X\\nA Y\\nA X\\nC Z\\nA Y\\nA Y\\nC X\\nB Z\\nC X\\nA X\\nA X\\nA X\\nA X\\nA X\\nC X\\nC Z\\nA Z\\nA X\\nC Y\\nC Z\\nA X\\nA Z\\nB Z\\nA Z\\nA X\\nC Y\\nC X\\nC X\\nC X\\nB Z\\nA X\\nC Y\\nA X\\nA X\\nA X\\nC Y\\nA X\\nB X\\nC X\\nC X\\nC Z\\nC Z\\nA X\\nC Y\\nA Z\\nA X\\nC X\\nA X\\nC X\\nC X\\nC Z\\nA X\\nC Y\\nC Y\\nA X\\nA Z\\nA Z\\nA X\\nC X\\nA X\\nC Y\\nB X\\nA X\\nC Y\\nC X\\nB X\\nC Z\\nA X\\nA X\\nC X\\nC Z\\nC Z\\nC X\\nC Y\\nC Y\\nA X\\nC Z\\nC X\\nC Y\\nC X\\nA X\\nA X\\nA X\\nB Y\\nC X\\nA X\\nC X\\nC X\\nA X\\nC Z\\nC Z\\nC X\\nB X\\nA Y\\nA Y\\nC Z\\nC Y\\nC X\\nC Y\\nB Y\\nA Z\\nC X\\nA X\\nA Z\\nA Y\\nC X\\nA Z\\nC Z\\nC Y\\nC Z\\nA X\\nC X\\nC Z\\nC X\\nC X\\nA X\\nC Z\\nA Z\\nC X\\nC Y\\nC X\\nA X\\nA Z\\nC Z\\nC X\\nA Z\\nB Z\\nC Y\\nB X\\nA Y\\nB X\\nB Y\\nA Y\\nA X\\nA Z\\nC X\\nC X\\nA X\\nC X\\nC Z\\nC Y\\nA Z\\nA X\\nC Z\\nA X\\nA X\\nA Z\\nA X\\nA X\\nC Z\\nA X\\nC X\\nA X\\nA X\\nA Y\\nC Z\\nA X\\nC Z\\nA Z\\nA X\\nA X\\nA Y\\nC Z\\nA Z\\nA Z\\nA X\\nC X\\nA X\\nA X\\nC Z\\nC X\\nC X\\nC X\\nC Y\\nC X\\nA X\\nB X\\nB X\\nC Z\\nC Z\\nC Z\\nC X\\nB Y\\nA Y\\nB X\\nB X\\nC X\\nC X\\nC X\\nA X\\nC Y\\nA Z\\nA X\\nC X\\nA X\\nA X\\nA X\\nB X\\nC Y\\nA X\\nC Z\\nA X\\nC X\\nA X\\nC Z\\nC X\\nA X\\nA Z\\nA X\\nA X\\nA X\\nC Z\\nA Y\\nB X\\nA X\\nB X\\nC Z\\nA X\\nA X\\nC Y\\nC Z\\nC Z\\nA X\\nC X\\nA X\\nA X\\nA X\\nA X\\nA X\\nC X\\nA X\\nC Y\\nC X\\nB X\\nA X\\nC Y\\nC Z\\nA X\\nA X\\nC X\\nA Z\\nA X\\nA Z\\nA X\\nC Z\\nA X\\nB X\\nC X\\nA X\\nC X\\nA X\\nC Y\\nC Z\\nA X\\nC Z\\nC Z\\nC X\\nB X\\nC Z\\nA X\\nA Z\\nC X\\nA X\\nC X\\nC Z\\nC Z\\nC Y\\nC Z\\nA X\\nC X\\nC Z\\nA Z\\nC Z\\nA Z\\nC X\\nC Z\\nA X\\nA X\\nB X\\nA Z\\nB X\\nC Y\\nC Z\\nC X\\nA X\\nC Z\\nC Z\\nC Z\\nB X\\nC X\\nC X\\nA Z\\nA X\\nC Y\\nA X\\nB Z\\nB X\\nA X\\nC Y\\nB X\\nC Z\\nC Y\\nC Z\\nA X\\nC Y\\nA X\\nA X\\nA Z\\nA X\\nA X\\nC X\\nC Y\\nC Z\\nC Z\\nC Y\\nB Y\\nC Z\\nA X\\nA X\\nC X\\nC X\\nC X\\nA X\\nC Y\\nA X\\nA Y\\nA X\\nC X\\nC Y\\nC Y\\nB X\\nA X\\nC Z\\nA X\\nC Z\\nC X\\nA X\\nA Z\\nC X\\nC Y\\nA X\\nA Z\\nA Z\\nC Y\\nA X\\nC Z\\nC Z\\nA X\\nA Z\\nB X\\nA X\\nC Y\\nC X\\nB Z\\nC Z\\nA X\\nC Y\\nA X\\nC Y\\nA Z\\nA X\\nC X\\nC Y\\nB X\\nA X\\nB X\\nA X\\nA X\\nB Y\\nA X\\nA X\\nC X\\nA X\\nC X\\nA X\\nA X\\nC Y\\nA X\\nC Z\\nC Z\\nA Z\\nC X\\nA Z\\nC Y\\nC Z\\nC X\\nA X\\nC Z\\nA X\\nC Y\\nA X\\nA Z\\nC Y\\nC X\\nC X\\nC Z\\nB X\\nA X\\nA X\\nA Z\\nC Z\\nC X\\nA X\\nC X\\nA Z\\nA Z\\nA X\\nC X\\nC Z\\nB Z\\nC X\\nC X\\nA X\\nA X\\nA X\\nC Y\\nC X\\nA X\\nC Z\\nA X\\nB Y\\nA X\\nA X\\nC X\\nB X\\nA X\\nC X\\nB Y\\nA Z\\nC X\\nC X\\nA X\\nA X\\nA X\\nC Y\\nC X\\nA Z\\nC X\\nA X\\nC Z\\nC Z\\nC Y\\nA X\\nA X\\nB Z\\nC Y\\nC Z\\nA X\\nC Z\\nA X\\nC Z\\nB X\\nA Z\\nA Z\\nC X\\nA X\\nC Z\\nC X\\nA X\\nA X\\nC X\\nC Z\\nC X\\nA X\\nC X\\nA X\\nA X\\nC Z\\nC X\\nA X\\nA X\\nA X\\nA X\\nC Y\\nA X\\nC X\\nC Z\\nC Y\\nC Z\\nC X\\nC Z\\nA X\\nC X\\nC Z\\nC Z\\nC Z\\nB X\\nC X\\nA Z\\nA Z\\nA X\\nC X\\nC Z\\nB Z\\nC Z\\nC Z\\nA Y\\nA Y\\nC X\\nA X\\nA X\\nA Z\\nA X\\nA Y\\nA Z\\nA X\\nA X\\nC Z\\nC Z\\nA Y\\nA X\\nB X\\nA X\\nA X\\nC X\\nA X\\nA Z\\nC Z\\nC X\\nC Z\\nC X\\nA Z\\nB X\\nA X\\nA X\\nC X\\nB Y\\nA X\\nC Z\\nA X\\nA Y\\nA Z\\nA X\\nC Z\\nA Z\\nB X\\nC Z\\nC Y\\nA X\\nC Y\\nA X\\nC X\\nC X\\nC X\\nA X\\nC X\\nC Z\\nC Y\\nA Z\\nC X\\nC Y\\nA X\\nA X\\nC Z\\nA X\\nC X\\nC X\\nA X\\nA X\\nA Z\\nC X\\nC Z\\nA Z\\nA Z\\nA X\\nB X\\nB X\\nA X\\nC Z\\nA Z\\nC Z\\nC X\\nC Z\\nB X\\nC X\\nC X\\nB Z\\nA X\\nA Z\\nB Z\\nB Z\\nC X\\nA Z\\nA X\\nA Y\\nC X\\nA X\\nC Z\\nA X\\nC X\\nA X\\nC Z\\nC X\\nC X\\nC X\\nC Z\\nB Z\\nA X\\nA X\\nA X\\nC Z\\nA X\\nA X\\nC X\\nB Z\\nC X\\nC X\\nA X\\nB Y\\nC X\\nC X\\nC X\\nA X\\nC X\\nA Z\\nC Y\\nB Z\\nA X\\nC Z\\nC Z\\nC Z\\nC Z\\nA Y\\nC Z\\nA X\\nA X\\nC X\\nC X\\nA X\\nC X\\nA Z\\nA X\\nC Z\\nC X\\nA X\\nC Z\\nC X\\nC Z\\nB Z\\nA X\\nC Y\\nC Z\\nA X\\nA X\\nC Y\\nA Z\\nC X\\nC Z\\nC Z\\nC Y\\nC Z\\nA X\\nC X\\nA X\\nA X\\nC X\\nA X\\nC Z\\nA X\\nA Z\\nA X\\nC Z\\nC Z\\nB X\\nC Z\\nA Y\\nA Z\\nA X\\nC Y\\nC X\\nC Y\\nA X\\nA Z\\nA X\\nA X\\nA X\\nC X\\nB X\\nC X\\nA Y\\nA Y\\nC Z\\nA X\\nA X\\nA Z\\nC X\\nA X\\nA Z\\nC Z\\nC Z\\nC X\\nC X\\nA X\\nA X\\nC Z\\nA X\\nC Z\\nC Z\\nB Z\\nA X\\nA X\\nC Z\\nA X\\nC Z\\nC Y\\nC X\\nA X\\nA Z\\nA X\\nA X\\nA X\\nC Y\\nC Z\\nA X\\nC Y\\nC Z\\nC Z\\nA X\\nA Z\\nA X\\nC Z\\nC Y\\nC Z\\nC Y\\nA X\\nC X\\nA X\\nA X\\nA X\\nC X\\nA X\\nA X\\nC Y\\nC X\\nA X\\nC X\\nA Z\\nA X\\nC Z\\nC X\\nB Z\\nC Z\\nA X\\nC Y\\nC Z\\nC X\\nA X\\nA X\\nB Y\\nA X\\nB X\\nC X\\nA X\\nA X\\nC X\\nC Y\\nA X\\nA X\\nA X\\nC X\\nC Z\\nA X\\nB X\\nC Y\\nC Y\\nA X\\nC Y\\nC X\\nA X\\nC X\\nA X\\nA X\\nA X\\nC X\\nC X\\nB Z\\nA X\\nC X\\nA X\\nC Z\\nA X\\nC Y\\nA X\\nC Z\\nC Z\\nC Y\\nA X\\nA Z\\nA X\\nC X\\nC Z\\nA X\\nC Z\\nC X\\nC Z\\nA X\\nC Y\\nA X\\nC Z\\nC Y\\nC X\\nA X\\nA Y\\nB X\\nA X\\nA Y\\nA X\\nA X\\nA X\\nA X\\nC Z\\nC Y\\nB X\\nA X\\nC X\\nA X\\nC X\\nA X\\nA Y\\nA X\\nC Z\\nA Z\\nC X\\nA X\\nA X\\nA X\\nC Z\\nC Z\\nC Y\\nC X\\nA X\\nC X\\nC Y\\nA Z\\nC X\\nA X\\nC Y\\nC Z\\nC Z\\nA X\\nA X\\nC Z\\nC Z\\nC X\\nC X\\nC X\\nC Z\\nC Y\\nC X\\nB Z\\nC Z\\nA X\\nC Z\\nA X\\nA X\\nC X\\nC X\\nC Y\\nA Y\\nA X\\nC X\\nA X\\nC X\\nC X\\nA X\\nA X\\nA Y\\nC Z\\nC Y\\nA X\\nA X\\nA X\\nA X\\nC X\\nC Y\\nA X\\nA Y\\nA X\\nA X\\nC X\\nA Z\\nC Z\\nC Z\\nC Z\\nC Z\\nA X\\nC Z\\nC X\\nC X\\nB X\\nC X\\nC Z\\nC X\\nA Z\\nC Z\\nB X\\nB Z\\nC Y\\nA X\\nB X\\nA X\\nA X\\nA X\\nC X\\nC X\\nA X\\nC Y\\nA X\\nC Y\\nB Y\\nC Y\\nA X\\nC X\\nC Y\\nC Z\\nC X\\nA X\\nA X\\nC X\\nB X\\nC Z\\nC X\\nA X\\nA Z\\nA X\\nC Z\\nC X\\nB X\\nA Z\\nA X\\nB Z\\nC Z\\nA X\\nC Y\\nA X\\nC Z\\nB X\\nC X\\nC X\\nC Y\\nA X\\nA X\\nA X\\nC Z\\nC X\\nB Z\\nC Z\\nB X\\nB Z\\nA X\\nA Z\\nA X\\nC X\\nC X\\nC Z\\nC X\\nC X\\nB Y\\nA X\\nA X\\nA X\\nA X\\nA X\\nA X\\nC X\\nA Z\\nA Z\\nC X\\nC X\\nA X\\nB Y\\nC X\\nC X\\nA Z\\nA X\\nB X\\nA X\\nC X\\nC Z\\nC Y\\nC Z\\nC Z\\nB X\\nC Y\\nC X\\nA X\\nA X\\nC X\\nC Y\\nC Z\\nA X\\nC X\\nA X\\nB Z\\nA X\\nC Y\\nC X\\nC X\\nA X\\nC Z\\nC Z\\nA X\\nC X\\nC X\\nC X\\nA X\\nA Z\\nC X\\nA X\\nC Z\\nA X\\nC Z\\nC Z\\nA X\\nC Z\\nA Z\\nC X\\nA X\\nA X\\nC Z\\nA X\\nA X\\nA X\\nC X\\nA X\\nA X\\nC Z\\nC X\\nC Y\\nB X\\nC X\\nC Y\\nC X\\nA X\\nA Y\\nA X\\nA X\\nA Z\\nC Z\\nA X\\nC X\\nC X\\nC X\\nC X\\nB Z\\nA X\\nB Y\\nC X\\nC X\\nC Y\\nC X\\nC Z\\nC Z\\nA X\\nC X\\nA X\\nC X\\nA Z\\nC Y\\nB X\\nA X\\nC X\\nC Z\\nC Y\\nB X\\nC Y\\nA X\\nC X\\nA X\\nA X\\nA Z\\nA X\\nB X\\nC X\\nA X\\nA Y\\nA X\\nC X\\nC Z\\nA Z\\nA X\\nA X\\nC Z\\nA X\\nC X\\nA X\\nC X\\nA X\\nC Z\\nC Y\\nA X\\nC X\\nA X\\nC Z\\nA Y\\nB X\\nC Z\\nC Z\\nA X\\nA X\\nA Y\\nA Z\\nA X\\nC X\\nC Y\\nC Z\\nA X\\nC Z\\nC Z\\nB X\\nA X\\nA X\\nA X\\nC Y\\nA Z\\nC Z\\nC Z\\nA Z\\nA X\\nA X\\nB X\\nC X\\nB X\\nA X\\nC Z\\nA Y\\nC Z\\nA X\\nC X\\nC Z\\nC X\\nA X\\nC X\\nA X\\nA X\\nC Z\\nA Z\\nC X\\nC X\\nB Z\\nC Z\\nA Y\\nA X\\nC X\\nC Z\\nA X\\nC Z\\nC X\\nC Y\\nC X\\nA Y\\nC Z\\nC Z\\nA X\\nA X\\nA X\\nC Z\\nC Y\\nC Z\\nA X\\nC Z\\nA X\\nC X\\nA X\\nA Y\\nA X\\nA Z\\nA X\\nA Y\\nA X\\nA X\\nA X\\nA Z\\nA X\\nC Z\\nC Z\\nC Z\\nC X\\nA X\\nA Z\\nC X\\nC Z\\nA X\\nC X\\nC Y\\nA X\\nC X\\nA X\\nC Y\\nA X\\nA X\\nC Z\\nC X\\nA X\\nC Z\\nA X\\nA X\\nC Z\\nC X\\nC Z\\nC Y\\nA Y\\nC Z\\nC X\\nB X\\nA X\\nA X\\nA Z\\nA X\\nA X\\nC X\\nC Z\\nA X\\nC X\\nA Z\\nB X\\nA Z\\nC Z\\nC Z\\nA X\\nB X\\nA X\\nA Y\\nA X\\nA X\\nC Z\\nA X\\nC Y\\nC Z\\nC Y\\nA X\\nA X\\nA X\\nA X\\nB Z\\nB Z\\nA X\\nC X\\nC X\\nA X\\nC X\\nC Y\\nB X\\nC Y\\nB X\\nA X\\nB Z\\nC Z\\nA X\\nA X\\nC X\\nA Z\\nA X\\nC X\\nC Z\\nA X\\nC X\\nC X\\nC X\\nC Z\\nC Y\\nA X\\nA X\\nA X\\nC Z\\nC Z\\nC X\\nC Z\\nB X\\nA X\\nC Z\\nC Z\\nC Y\\nA X\\nA X\\nC Z\\nA Z\\nC X\\nC Z\\nC Y\\nC Z\\nC Z\\nA X\\nC Z\\nC Y\\nC X\\nB X\\nC Z\\nA Y\\nC Z\\nC X\\nC X\\nA X\\nA X\\nA X\\nC Z\\nB Z\\nA X\\nA Z\\nB X\\nA Z\\nA Z\\nC Z\\nC Z\\nC X\\nC Y\\nC Y\\nC Z\\nA Z\\nC Y\\nC X\\nC Y\\nA Z\\nB Y\\nA X\\nC Y\\nA X\\nA X\\nA Z\\nC Z\\nC Z\\nC Z\\nC X\\nC X\\nC Z\\nC Z\\nA X\\nC X\\nA Y\\nA Y\\nA X\\nB Z\\nA X\\nC X\\nA X\\nC X\\nA X\\nA X\\nA X\\nC X\\nC Y\\nC Z\\nC Z\\nA X\\nC Z\\nA X\\nC X\\nC X\\nC Z\\nA X\\nA X\\nA X\\nC X\\nC Z\\nA X\\nA X\\nA X\\nA X\\nC Z\\nB Y\\nA X\\nA X\\nA X\\nC Y\\nA X\\nA X\\nA Z\\nC X\\nA Z\\nC Z\\nA Z\\nC Z\\nA X\\nA Z\\nA X\\nA X\\nA X\\nA X\\nA Y\\nC X\\nC Z\\nA X\\nA Z\\nC X\\nA Y\\nC Z\\nC Y\\nA X\\nB X\\nA Y\\nC X\\nA X\\nC Z\\nC X\\nA X\\nC Z\\nC X\\nA X\\nC X\\nC X\\nC Z\\nA X\\nA Y\\nC Y\\nC Y\\nA X\\nA X\\nA X\\nA X\\nA X\\nC X\\nA Y\\nC Z\\nC Z\\nC Y\\nA X\\nC Z\\nC Z\\nA X\\nC X\\nC X\\nC Y\\nA X\\nA X\\nC X\\nC X\\nA Z\\nA X\\nC Z\\nA X\\nC Z\\nA X\\nB X\\nA Z\\nB X\\nC Z\\nC Z\\nC X\\nA X\\nA Z\\nC X\\nA X\\nA X\\nC X\\nC Y\\nC Z\\nC X\\nC X\\nA X\\nC Z\\nC Z\\nC X\\nB X\\nC Z\\nA X\\nB X\\nA Z\\nC X\\nA Z\\nA X\\nA X\\nC X\\nA X\\nC Z\\nA X\\nA X\\nC Z\\nC Z\\nC Z\\nA X\\nC X\\nA Y\\nC Y\\nA X\\nA X\\nA X\\nA X\\nC X\\nC Z\\nA X\\nA X\\nA X\\nC X\\nC Z\\nA X\\nC Z\\nA X\\nA Y\\nC Y\\nC X\\nC X\\nA X\\nA X\\nA X\\nA Z\\nA X\\nC Z\\nA X\\nC Y\\nB Z\\nB X\\nA X\\nC X\\nC Z\\nA X\\nA X\\nC Z\\nB X\\nB X\\nC X\\nC Y\\nC X\\nB X\\nA X\\nA X\\nC X\\nA Z\\nA X\\nC X\\nC X\\nC X\\nA X\\nC Z\\nA Y\\nA X\\nC Y\\nA X\\nA X\\nC Z\\nA Z\\nA Z\\nC X\\nC X\\nC Y\\nC Y\\nC X\\nC X\\nC Z\\nA X\\nC X\\nA X\\nA X\\nA X\\nA X\\nC Y\\nC Z\\nA X\\nC Z\\nC X\\nC X\\nA X\\nA X\\nA Z\\nC Y\\nC X\\nA X\\nC X\\nA X\\nA Z\\nA X\\nA Z\\nA X\\nA X\\nA X\\nC X\\nA Z\\nA X\\nC X\\nC Y\\nA Z\\nA X\\nB X\\nC X\\nC Y\\nC Z\\nC X\\nC Y\\nC X\\nC X\\nA X\\nC Y\\nB X\\nA Z\\nC Z\\nB Z\\nC X\\nA X\\nC Z\\nA X\\nC X\\nA X\\nA X\\nA X\\nC Z\\nC Y\\nB Z\\nA X\\nC X\\nA Y\\nC Z\\nA X\\nA X\\nA Z\\nA Z\\nA Y\\nC X\\nC Z\\nC X\\nA Z\\nC X\\nC Z\\nC X\\nB X\\nA X\\nC Z\\nA X\\nA X\\nC Z\\nA Z\\nC X\\nC Y\\nC X\\nC X\\nC Y\\nA X\\nA X\\nC X\\nA Z\\nC X\\nC Z\\nC X\\nA Z\\nA X\\nA Y\\nA X\\nA X\\nB Z\\nC Z\\nC Z\\nA Y\\nC X\\nA X\\nB X\\nA X\\nA Z\\nC Y\\nC Z\\nC X\\nC Z\\nC Z\\nC X\\nC X\\nA X\\nC X\\nA Z\\nC Z\\nC Z\\nC Z\\nC Y\\nC X\\nA X\\nC Z\\nA Z\\nC Z\\nC Z\\nA X\\nC X\\nA X\\nC Z\\nA X\\nB X\\nA X\\nC Z\\nC X\\nC X\\nA X\\nC Y\\nA X\\nC Z\\nB X\\nC Z\\nC X\\nA X\\nC X\\nC X\\nC Z\\nA X\\nA X\\nC Z\\nC Z\\nC X\\nC Z\\nC X\\nA X\\nA X\\nC Z\\nC X\\nC X\\nA X\\nC Z\\nA Z\\nC Z\\nB X\\nC X\\nC Y\\nC X\\nC Z\\nA X\\nB X\\nC Z\\nA X\\nC Z\\nA Z\\nC Z\\nC X\\nA X\\nC Z\\nC Z\\nA X\\nA X\\nC Z\\nA X\\nC Y\\nA Z\\nC X\\nC Z\\nA X\\nB Z\\nB X\\nA X\\nA Z\\nA X\\nA Z\\nA X\\nA X\\nC Y\\nA X\\nC Y\\nC X\\nC Y\\nC Y\\nC X\\nA X\\nA Z\\nA Z\\nC X\\nC Z\\nB X\\nA X\\nC Z\\nA Z\\nC X\\nC Z\\nC Y\\nA X\\nA X\\nC Z\\nC Z\\nC Y\\nA Z\\nC Z\\nC Y\\nA X\\nC X\\nA X\\nC X\\nC Z\\nA Z\\nB Z\\nA X\\nA X\\nA X\\nC X\\nC X\\nA Y\\nA Z\\nC X\\nC Z\\nA X\\nB X\\nA X\\nA X\\nC X\\nC X\\nB X\\nA X\\nB X\\nC Z\\nA Z\\nC Z\\nA X\\nC X\\nC Z\\nC Y\\nA Y\\nA Z\\nC Y\\nC Z\\nA X\\nA X\\nC X\\nA X\\nC Z\\nC Y\\nA X\\nC Z\\nA X\\nA X\\nB X\\nA X\\nA Z\\nC X\\nC Y\\nA Z\\nC Z\\nA X\\nA Z\\nC X\\nC Z\\nC X\\nC Z\\nA X\\nA X\\nA X\\nC X\\nA X\\nC Z\\nC X\\nC X\\nC X\\nC X\\nA X\\nC X\\nB Y\\nA Z\\nA Z\\nC Z\\nC X\\nA Y\\nC X\\nA X\\nC X\\nC Z\\nB Z\\nC Z\\nB X\\nA X\\nA Z\\nA X\\nC X\\nA X\\nC Z\\nC Z\\nC Z\\nA X\\nC Z\\nA X\\nC Z\\nC X\\nC X\\nC X\\nB X\\nA X\\nA X\\nB X\\nC X\\nA X\\nC Z\\nA Z\\nC Y\\nC Z\\nA Z\\nB Z\\nA Z\\nC Z\\nC Z\\nC X\\nA X\\nA X\\nC X\\nC X\\nC Y\\nA Y\\nA Z\\nA X\\nC Z\\nC Z\\nC Y\\nC X\\nA X\\nA X\\nC Y\\nA Z\\nC X\\nC X\\nC X\\nA X\\nC X\\nC X\\nA Z\\nC X\\nC Y\\nA Z\\nC Z\\nC Y\\nA Z\\nC Z\\nA X\\nC X\\nC Y\\nC X\\nC X\\nC Z\\nC X\\nC X\\nC Z\\nC X\\nA X\\nB Y\\nA X\\nC X\\nB Z\\nC Z\\nC X\\nC Z\\nC Z\\nA Y\\nA Y\\nA X\\nA Z\\nC Z\\nA X\\nC X\\nC Z\\nA Z\\nA X\\nA X\\nA X\\nB X\\nA X\\nB Z\\nC X\\nA X\\nC X\\nA Z\\nC X\\nA X\\nC Y\\nA X\\nC X\\nC Y\\nA Z\\nC Z\\nC Z\\nB X\\nA X\\nC X\\nA X\\nC X\\nC Y\\nA X\\nC Y\\nA X\\nB X\\nC Y\\nA X\\nA X\\nC X\\nA X\\nB Y\\nC Y\\nC Y\\nC Y\\nC X\\nA Y\\nC X\\nC Z\\nA X\\nA Z\\nA X\\nA X\\nC Z\\nA Z\\nA Z\\nC X\\nA X\\nA X\\nB X\\nC X\\nC Y\\nC X\\nB Z\\nA X\\nC X\\nC Y\\nC X\\nC Z\\nC Y\\nA X\\nC X\\nA X\\nA X\\nA Y\\nC Z\\nC Z\\nC Z\\nA X\\nA X\\nA Z\\nA X\\nA X\\nA Z\\nA X\\nC Y\\nC Y\\nA X\\nA X\\nA Z\\nC X\\nA X\\nC Z\\nA Z\\nC Z\\nC Y\\nC Z\\nA X\\nC Z\\nC X\\nC Z\\nA X\\nC Y\\nC Y\\nB X\\nA X\\nA Z\\nC X\\nA X\\nA X\\nC Z\\nA X\\nC X\\nC Z\\nA Z\\nA Y\\nA Y\\nA X\\nC X\\nA Y\\nA X\\nA X\\nB Z\\nA X\\nC X\\nC X\\nC X\\nA X\\nC X\\nC Z\\nC Z\\nA Z\\nC X\\nC X\\nC Y\\nA X\\nC X\\nA X\\nA X\\nC Y\\nC X\\nA X\\nC Y\\nC X\\nC X\\nA Y\\nC Z\\nC X\\nC X\\nC Y\\nC Z\\nA Y\\nA X\\nC Z\\nC Z\\nC Z\\nC X\\nC Z\\nA X\\nA X\\nA Z\\nA X\\nC Y\\nC X\\nC Z\\nA X\\nA X\\nC Z\\nA X\\nC X\\nA X\\nA Y\\nC X\"")));

function initTable_469762145(initialSize_469762148) {
  var result_469762149 = ({data: [], counter: 0});

    var correctSizeHEX60gensym0_469762151 = slotsNeeded_721420330(initialSize_469762148);
    result_469762149.counter = 0;
    result_469762149.data = new Array(correctSizeHEX60gensym0_469762151); for (var i = 0 ; i < correctSizeHEX60gensym0_469762151 ; ++i) { result_469762149.data[i] = {Field0: 0, Field1: 0, Field2: 0}; }
  return result_469762149;

}

function hasJsBigInt_687865899() {
  var result_687865900 = false;

    result_687865900 = typeof BigInt != 'undefined'

  return result_687865900;

}

function hiXorLoJs_637534293(a_637534294, b_637534295) {
  var result_637534296 = 0n;

    var prod_637534297 = (a_637534294 * b_637534295);
    var mask_637534298 = BigInt("0xffffffffffffffff");
    result_637534296 = ((prod_637534297 >> BigInt("64")) ^ (prod_637534297 & mask_637534298));

  return result_637534296;

}

function hashWangYi1_637534386(x_637534388) {
  var result_637534389 = 0;

    if (hasJsBigInt_687865899()) {
    var P0HEX60gensym6_637534408 = BigInt("0xa0761d6478bd642f");
    var P1HEX60gensym6_637534409 = BigInt("0xe7037ed1a0b428db");
    var P58HEX60gensym6_637534410 = BigInt("0xeb44accab455d16d");
    var resHEX60gensym6_637534411 = hiXorLoJs_637534293(hiXorLoJs_637534293(P0HEX60gensym6_637534408, (BigInt(x_637534388) ^ P1HEX60gensym6_637534409)), P58HEX60gensym6_637534410);
    result_637534389 = Number((() => { const i = resHEX60gensym6_637534411, b = 32; return BigInt.asIntN(b, i) })());
    }
    else {
      result_637534389 = (x_637534388 & 4294967295);
    }
    

  return result_637534389;

}

function hash_469762290(x_469762292) {
  var result_469762293 = 0;

    result_469762293 = hashWangYi1_637534386(x_469762292);

  return result_469762293;

}

function rawGet_469762283(t_469762286, key_469762287, hc_469762288, hc_469762288_Idx) {
            var Temporary3;

  var result_469762289 = 0;

  BeforeRet: do {
    hc_469762288[hc_469762288_Idx] = hash_469762290(key_469762287);
    if ((hc_469762288[hc_469762288_Idx] == 0)) {
    hc_469762288[hc_469762288_Idx] = 314159265;
    }
    
    if (((t_469762286.data).length == 0)) {
    result_469762289 = -1;
    break BeforeRet;
    }
    
    var h_469762351 = (hc_469762288[hc_469762288_Idx] & (t_469762286.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_469762286.data[h_469762351].Field0)) break Label2;
            if (!(t_469762286.data[h_469762351].Field0 == hc_469762288[hc_469762288_Idx])) Temporary3 = false; else {              Temporary3 = (t_469762286.data[h_469762351].Field1 == key_469762287);            }          if (Temporary3) {
          result_469762289 = h_469762351;
          break BeforeRet;
          }
          
          h_469762351 = nextTry_721420322(h_469762351, (t_469762286.data).length - 1);
        }
    } while (false);
    result_469762289 = (-1 - h_469762351);
  } while (false);

  return result_469762289;

}

function mustRehash_469762635(t_469762637) {
  var result_469762638 = false;

    result_469762638 = ((((t_469762637.data).length * 2) < (t_469762637.counter * 3)) || (((t_469762637.data).length - t_469762637.counter) < 4));

  return result_469762638;

}

function rawInsert_469763082(t_469763086, data_469763087, data_469763087_Idx, key_469763088, val_469763089, hc_469763090, h_469763091) {
    data_469763087[data_469763087_Idx][h_469763091].Field1 = key_469763088;
    data_469763087[data_469763087_Idx][h_469763091].Field2 = val_469763089;
    data_469763087[data_469763087_Idx][h_469763091].Field0 = hc_469763090;

  
}

function enlarge_469762788(t_469762791) {
    var n_469762794 = [];
    n_469762794 = new Array(((t_469762791.data).length * 2)); for (var i = 0 ; i < ((t_469762791.data).length * 2) ; ++i) { n_469762794[i] = {Field0: 0, Field1: 0, Field2: 0}; }    var Temporary1 = t_469762791.data; t_469762791.data = n_469762794; n_469762794 = Temporary1;    Label2: do {
      var i_469762858 = 0;
      var colontmp__469764975 = 0;
      colontmp__469764975 = (n_469762794).length - 1;
      var res_469764977 = 0;
      Label3: do {
          Label4: while (true) {
          if (!(res_469764977 <= colontmp__469764975)) break Label4;
            i_469762858 = res_469764977;
            var eh_469762912 = n_469762794[i_469762858].Field0;
            if (isFilled_721420319(eh_469762912)) {
            var j_469762916 = (eh_469762912 & (t_469762791.data).length - 1);
            Label5: do {
                Label6: while (true) {
                if (!isFilled_721420319(t_469762791.data[j_469762916].Field0)) break Label6;
                  j_469762916 = nextTry_721420322(j_469762916, (t_469762791.data).length - 1);
                }
            } while (false);
            rawInsert_469763082(t_469762791, t_469762791, "data", n_469762794[i_469762858].Field1, n_469762794[i_469762858].Field2, eh_469762912, j_469762916);
            }
            
            res_469764977 += 1;
          }
      } while (false);
    } while (false);

  
}

function rawGetKnownHC_469763260(t_469763263, key_469763264, hc_469763265) {
  var result_469763266 = 0;

  BeforeRet: do {
    if (((t_469763263.data).length == 0)) {
    result_469763266 = -1;
    break BeforeRet;
    }
    
    var h_469763317 = (hc_469763265 & (t_469763263.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_469763263.data[h_469763317].Field0)) break Label2;
          if (((t_469763263.data[h_469763317].Field0 == hc_469763265) && (t_469763263.data[h_469763317].Field1 == key_469763264))) {
          result_469763266 = h_469763317;
          break BeforeRet;
          }
          
          h_469763317 = nextTry_721420322(h_469763317, (t_469763263.data).length - 1);
        }
    } while (false);
    result_469763266 = (-1 - h_469763317);
  } while (false);

  return result_469763266;

}

function HEX5BHEX5DHEX3D_469762222(t_469762225, key_469762226, val_469762227) {
    if (((t_469762225.data).length == 0)) {
    var correctSizeHEX60gensym3_469762277 = slotsNeeded_721420330(32);
    t_469762225.counter = 0;
    t_469762225.data = new Array(correctSizeHEX60gensym3_469762277); for (var i = 0 ; i < correctSizeHEX60gensym3_469762277 ; ++i) { t_469762225.data[i] = {Field0: 0, Field1: 0, Field2: 0}; }    }
    
    var hc_469762282 = [0];
    var index_469762528 = rawGet_469762283(t_469762225, key_469762226, hc_469762282, 0);
    if ((0 <= index_469762528)) {
    t_469762225.data[index_469762528].Field2 = val_469762227;
    }
    else {
      if (((t_469762225.data).length == 0)) {
      var correctSizeHEX60gensym8_469762630 = slotsNeeded_721420330(32);
      t_469762225.counter = 0;
      t_469762225.data = new Array(correctSizeHEX60gensym8_469762630); for (var i = 0 ; i < correctSizeHEX60gensym8_469762630 ; ++i) { t_469762225.data[i] = {Field0: 0, Field1: 0, Field2: 0}; }      }
      
      if (mustRehash_469762635(t_469762225)) {
      enlarge_469762788(t_469762225);
      index_469762528 = rawGetKnownHC_469763260(t_469762225, key_469762226, hc_469762282[0]);
      }
      
      index_469762528 = (-1 - index_469762528);
      rawInsert_469763082(t_469762225, t_469762225, "data", key_469762226, val_469762227, hc_469762282[0], index_469762528);
      t_469762225.counter += 1;
    }
    

  
}

function toTable_469762135(pairs_469762138) {
  var result_469762144 = [({data: [], counter: 0})];

    result_469762144[0] = nimCopy(result_469762144[0], initTable_469762145((pairs_469762138).length), NTI469762119);
    Label1: do {
      var key_469762180 = 0;
      var val_469762181 = 0;
      var i_469764970 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(i_469764970 < (pairs_469762138).length)) break Label3;
            key_469762180 = pairs_469762138[i_469764970]["Field0"];
            val_469762181 = pairs_469762138[i_469764970]["Field1"];
            HEX5BHEX5DHEX3D_469762222(result_469762144[0], key_469762180, val_469762181);
            i_469764970 += 1;
          }
      } while (false);
    } while (false);

  return result_469762144[0];

}

function initTable_469763544(initialSize_469763547) {
  var result_469763548 = ({data: [], counter: 0});

    var correctSizeHEX60gensym16_469763550 = slotsNeeded_721420330(initialSize_469763547);
    result_469763548.counter = 0;
    result_469763548.data = new Array(correctSizeHEX60gensym16_469763550); for (var i = 0 ; i < correctSizeHEX60gensym16_469763550 ; ++i) { result_469763548.data[i] = {Field0: 0, Field1: 0, Field2: 0}; }
  return result_469763548;

}

function hash_469763689(x_469763691) {
  var result_469763692 = 0;

    result_469763692 = hashWangYi1_637534386(x_469763691);

  return result_469763692;

}

function rawGet_469763682(t_469763685, key_469763686, hc_469763687, hc_469763687_Idx) {
            var Temporary3;

  var result_469763688 = 0;

  BeforeRet: do {
    hc_469763687[hc_469763687_Idx] = hash_469763689(key_469763686);
    if ((hc_469763687[hc_469763687_Idx] == 0)) {
    hc_469763687[hc_469763687_Idx] = 314159265;
    }
    
    if (((t_469763685.data).length == 0)) {
    result_469763688 = -1;
    break BeforeRet;
    }
    
    var h_469763749 = (hc_469763687[hc_469763687_Idx] & (t_469763685.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_469763685.data[h_469763749].Field0)) break Label2;
            if (!(t_469763685.data[h_469763749].Field0 == hc_469763687[hc_469763687_Idx])) Temporary3 = false; else {              Temporary3 = (t_469763685.data[h_469763749].Field1 == key_469763686);            }          if (Temporary3) {
          result_469763688 = h_469763749;
          break BeforeRet;
          }
          
          h_469763749 = nextTry_721420322(h_469763749, (t_469763685.data).length - 1);
        }
    } while (false);
    result_469763688 = (-1 - h_469763749);
  } while (false);

  return result_469763688;

}

function mustRehash_469764028(t_469764030) {
  var result_469764031 = false;

    result_469764031 = ((((t_469764030.data).length * 2) < (t_469764030.counter * 3)) || (((t_469764030.data).length - t_469764030.counter) < 4));

  return result_469764031;

}

function rawInsert_469764475(t_469764479, data_469764480, data_469764480_Idx, key_469764481, val_469764482, hc_469764483, h_469764484) {
    data_469764480[data_469764480_Idx][h_469764484].Field1 = key_469764481;
    data_469764480[data_469764480_Idx][h_469764484].Field2 = val_469764482;
    data_469764480[data_469764480_Idx][h_469764484].Field0 = hc_469764483;

  
}

function enlarge_469764181(t_469764184) {
    var n_469764187 = [];
    n_469764187 = new Array(((t_469764184.data).length * 2)); for (var i = 0 ; i < ((t_469764184.data).length * 2) ; ++i) { n_469764187[i] = {Field0: 0, Field1: 0, Field2: 0}; }    var Temporary1 = t_469764184.data; t_469764184.data = n_469764187; n_469764187 = Temporary1;    Label2: do {
      var i_469764251 = 0;
      var colontmp__469764987 = 0;
      colontmp__469764987 = (n_469764187).length - 1;
      var res_469764988 = 0;
      Label3: do {
          Label4: while (true) {
          if (!(res_469764988 <= colontmp__469764987)) break Label4;
            i_469764251 = res_469764988;
            var eh_469764305 = n_469764187[i_469764251].Field0;
            if (isFilled_721420319(eh_469764305)) {
            var j_469764309 = (eh_469764305 & (t_469764184.data).length - 1);
            Label5: do {
                Label6: while (true) {
                if (!isFilled_721420319(t_469764184.data[j_469764309].Field0)) break Label6;
                  j_469764309 = nextTry_721420322(j_469764309, (t_469764184.data).length - 1);
                }
            } while (false);
            rawInsert_469764475(t_469764184, t_469764184, "data", n_469764187[i_469764251].Field1, n_469764187[i_469764251].Field2, eh_469764305, j_469764309);
            }
            
            res_469764988 += 1;
          }
      } while (false);
    } while (false);

  
}

function rawGetKnownHC_469764644(t_469764647, key_469764648, hc_469764649) {
  var result_469764650 = 0;

  BeforeRet: do {
    if (((t_469764647.data).length == 0)) {
    result_469764650 = -1;
    break BeforeRet;
    }
    
    var h_469764701 = (hc_469764649 & (t_469764647.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_469764647.data[h_469764701].Field0)) break Label2;
          if (((t_469764647.data[h_469764701].Field0 == hc_469764649) && (t_469764647.data[h_469764701].Field1 == key_469764648))) {
          result_469764650 = h_469764701;
          break BeforeRet;
          }
          
          h_469764701 = nextTry_721420322(h_469764701, (t_469764647.data).length - 1);
        }
    } while (false);
    result_469764650 = (-1 - h_469764701);
  } while (false);

  return result_469764650;

}

function HEX5BHEX5DHEX3D_469763621(t_469763624, key_469763625, val_469763626) {
    if (((t_469763624.data).length == 0)) {
    var correctSizeHEX60gensym19_469763676 = slotsNeeded_721420330(32);
    t_469763624.counter = 0;
    t_469763624.data = new Array(correctSizeHEX60gensym19_469763676); for (var i = 0 ; i < correctSizeHEX60gensym19_469763676 ; ++i) { t_469763624.data[i] = {Field0: 0, Field1: 0, Field2: 0}; }    }
    
    var hc_469763681 = [0];
    var index_469763921 = rawGet_469763682(t_469763624, key_469763625, hc_469763681, 0);
    if ((0 <= index_469763921)) {
    t_469763624.data[index_469763921].Field2 = val_469763626;
    }
    else {
      if (((t_469763624.data).length == 0)) {
      var correctSizeHEX60gensym24_469764023 = slotsNeeded_721420330(32);
      t_469763624.counter = 0;
      t_469763624.data = new Array(correctSizeHEX60gensym24_469764023); for (var i = 0 ; i < correctSizeHEX60gensym24_469764023 ; ++i) { t_469763624.data[i] = {Field0: 0, Field1: 0, Field2: 0}; }      }
      
      if (mustRehash_469764028(t_469763624)) {
      enlarge_469764181(t_469763624);
      index_469763921 = rawGetKnownHC_469764644(t_469763624, key_469763625, hc_469763681[0]);
      }
      
      index_469763921 = (-1 - index_469763921);
      rawInsert_469764475(t_469763624, t_469763624, "data", key_469763625, val_469763626, hc_469763681[0], index_469763921);
      t_469763624.counter += 1;
    }
    

  
}

function toTable_469763534(pairs_469763537) {
  var result_469763543 = [({data: [], counter: 0})];

    result_469763543[0] = nimCopy(result_469763543[0], initTable_469763544((pairs_469763537).length), NTI469762851);
    Label1: do {
      var key_469763579 = 0;
      var val_469763580 = 0;
      var i_469764982 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(i_469764982 < (pairs_469763537).length)) break Label3;
            key_469763579 = pairs_469763537[i_469764982]["Field0"];
            val_469763580 = pairs_469763537[i_469764982]["Field1"];
            HEX5BHEX5DHEX3D_469763621(result_469763543[0], key_469763579, val_469763580);
            i_469764982 += 1;
          }
      } while (false);
    } while (false);

  return result_469763543[0];

}
var loseTable_469763528 = toTable_469762135([{Field0: 0, Field1: 1}, {Field0: 2, Field1: 0}, {Field0: 1, Field1: 2}]);
var winTable_469763533 = toTable_469762135([{Field0: 0, Field1: 2}, {Field0: 2, Field1: 1}, {Field0: 1, Field1: 0}]);
var leftTab_469764908 = toTable_469763534([{Field0: 65, Field1: 0}, {Field0: 66, Field1: 1}, {Field0: 67, Field1: 2}]);
var rightTab_469764913 = toTable_469763534([{Field0: 88, Field1: 0}, {Field0: 89, Field1: 1}, {Field0: 90, Field1: 2}]);

function parseChar_889192548(s_889192549, c_889192550, c_889192550_Idx, start_889192551) {
  var result_889192552 = 0;

    if ((start_889192551 < (s_889192549).length)) {
    c_889192550[c_889192550_Idx] = s_889192549[start_889192551];
    result_889192552 = 1;
    }
    

  return result_889192552;

}

function skip_889192565(s_889192566, token_889192567, start_889192568) {
  var result_889192569 = 0;

    result_889192569 = 0;
    Label1: do {
        Label2: while (true) {
        if (!((((start_889192568 + result_889192569) < (s_889192566).length) && (result_889192569 < (token_889192567).length)) && (s_889192566[(result_889192569 + start_889192568)] == token_889192567[result_889192569]))) break Label2;
          result_889192569 += 1;
        }
    } while (false);
    if (!((result_889192569 == (token_889192567).length))) {
    result_889192569 = 0;
    }
    

  return result_889192569;

}

function raiseKeyError_469765166(key_469765168) {
    raiseException({message: (makeNimstrLit("key not found: ") || []).concat(nimCharToStr(key_469765168) || []), parent: null, m_type: NTI33555126, name: null, trace: [], up: null}, "KeyError");

  
}

function HEX5BHEX5D_469765099(t_469765102, key_469765103) {
  var result_469765104 = 0;

    var hcHEX60gensym20_469765105 = [0];
    var indexHEX60gensym20_469765112 = rawGet_469763682(t_469765102, key_469765103, hcHEX60gensym20_469765105, 0);
    if ((0 <= indexHEX60gensym20_469765112)) {
    result_469765104 = t_469765102.data[indexHEX60gensym20_469765112].Field2;
    }
    else {
    raiseKeyError_469765166(key_469765103);
    }
    

  return result_469765104;

}

function readInput_469764991(input_469764992, leftMap_469764995, rightMap_469764996) {
            var Temporary6;

  var result_469764999 = {Field0: [], Field1: []};

    Label1: do {
      var line_469765000 = [];
      var first_469766733 = 0;
      var last_469766734 = 0;
      var eolpos_469766735 = 0;
      Label2: do {
          Label3: while (true) {
          if (!true) break Label3;
            Label4: do {
                Label5: while (true) {
                if (!((last_469766734 < (input_469764992).length) && !((ConstSet27[input_469764992[last_469766734]] != undefined)))) break Label5;
                  last_469766734 += 1;
                }
            } while (false);
            eolpos_469766735 = last_469766734;
            if ((last_469766734 < (input_469764992).length)) {
            if ((input_469764992[last_469766734] == 10)) {
            last_469766734 += 1;
            }
            else {
            if ((input_469764992[last_469766734] == 13)) {
            last_469766734 += 1;
            if (((last_469766734 < (input_469764992).length) && (input_469764992[last_469766734] == 10))) {
            last_469766734 += 1;
            }
            
            }
            }
            }
            
            if (false) {
            Temporary6 = (last_469766734 - 1);
            }
            else {
            Temporary6 = (eolpos_469766735 - 1);
            }
            
            line_469765000 = substr_33557906(input_469764992, first_469766733, Temporary6);
            Label7: do {
              var temp0_469765008 = [0];
              var temp1_469765009 = [0];
              var inp_469765018 = nimCopy(null, line_469765000, NTI33554439);
              var idx_469765016 = 0;
              var res_469765017 = false;
              var resLen_469765020 = parseChar_889192548(inp_469765018, temp0_469765008, 0, idx_469765016);
              if (!((resLen_469765020 == 0))) {
              idx_469765016 += resLen_469765020;
              var resLen_469765021 = skip_889192565(inp_469765018, makeNimstrLit(" "), idx_469765016);
              if (!((resLen_469765021 == 0))) {
              idx_469765016 += resLen_469765021;
              var resLen_469765023 = parseChar_889192548(inp_469765018, temp1_469765009, 0, idx_469765016);
              if (!((resLen_469765023 == 0))) {
              idx_469765016 += resLen_469765023;
              res_469765017 = true;
              }
              
              }
              
              }
              
            } while (false);
            var colontmp__469766738 = nimCopy(null, {Field0: res_469765017, Field1: temp0_469765008[0], Field2: temp1_469765009[0]}, NTI469763633);
            var success_469765040 = colontmp__469766738["Field0"];
            var l_469765041 = colontmp__469766738["Field1"];
            var r_469765042 = colontmp__469766738["Field2"];
            result_469764999.Field0.push(HEX5BHEX5D_469765099(leftMap_469764995, l_469765041));;
            result_469764999.Field1.push(HEX5BHEX5D_469765099(rightMap_469764996, r_469765042));;
            if ((eolpos_469766735 == last_469766734)) {
            break Label2;
            }
            
            first_469766733 = last_469766734;
          }
      } while (false);
    } while (false);

  return result_469764999;

}

function toFloat_1124073478(n_1124073479) {
  var result_1124073480 = 0.0;

    result_1124073480 = n_1124073479;

  return result_1124073480;

}

function toFloat_33556001(i_33556002) {
  var result_33556003 = 0.0;

    result_33556003 = i_33556002;

  return result_33556003;

}

function HEX2F_33557575(x_33557576, y_33557577) {
  var result_33557578 = 0.0;

    result_33557578 = (toFloat_33556001(x_33557576) / toFloat_33556001(y_33557577));

  return result_33557578;

}

function initTable_469765291(initialSize_469765294) {
  var result_469765295 = ({data: [], counter: 0});

    var correctSizeHEX60gensym38_469765297 = slotsNeeded_721420330(initialSize_469765294);
    result_469765295.counter = 0;
    result_469765295.data = new Array(correctSizeHEX60gensym38_469765297); for (var i = 0 ; i < correctSizeHEX60gensym38_469765297 ; ++i) { result_469765295.data[i] = {Field0: 0, Field1: 0, Field2: []}; }
  return result_469765295;

}

function rawGet_469765429(t_469765432, key_469765433, hc_469765434, hc_469765434_Idx) {
            var Temporary3;

  var result_469765435 = 0;

  BeforeRet: do {
    hc_469765434[hc_469765434_Idx] = hash_469762290(key_469765433);
    if ((hc_469765434[hc_469765434_Idx] == 0)) {
    hc_469765434[hc_469765434_Idx] = 314159265;
    }
    
    if (((t_469765432.data).length == 0)) {
    result_469765435 = -1;
    break BeforeRet;
    }
    
    var h_469765489 = (hc_469765434[hc_469765434_Idx] & (t_469765432.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_469765432.data[h_469765489].Field0)) break Label2;
            if (!(t_469765432.data[h_469765489].Field0 == hc_469765434[hc_469765434_Idx])) Temporary3 = false; else {              Temporary3 = (t_469765432.data[h_469765489].Field1 == key_469765433);            }          if (Temporary3) {
          result_469765435 = h_469765489;
          break BeforeRet;
          }
          
          h_469765489 = nextTry_721420322(h_469765489, (t_469765432.data).length - 1);
        }
    } while (false);
    result_469765435 = (-1 - h_469765489);
  } while (false);

  return result_469765435;

}

function mustRehash_469765772(t_469765774) {
  var result_469765775 = false;

    result_469765775 = ((((t_469765774.data).length * 2) < (t_469765774.counter * 3)) || (((t_469765774.data).length - t_469765774.counter) < 4));

  return result_469765775;

}

function rawInsert_469766219(t_469766223, data_469766224, data_469766224_Idx, key_469766225, val_469766226, hc_469766227, h_469766228) {
    data_469766224[data_469766224_Idx][h_469766228].Field1 = key_469766225;
    data_469766224[data_469766224_Idx][h_469766228].Field2 = nimCopy(null, val_469766226, NTI33554439);
    data_469766224[data_469766224_Idx][h_469766228].Field0 = hc_469766227;

  
}

function enlarge_469765925(t_469765928) {
    var n_469765931 = [];
    n_469765931 = new Array(((t_469765928.data).length * 2)); for (var i = 0 ; i < ((t_469765928.data).length * 2) ; ++i) { n_469765931[i] = {Field0: 0, Field1: 0, Field2: []}; }    var Temporary1 = t_469765928.data; t_469765928.data = n_469765931; n_469765931 = Temporary1;    Label2: do {
      var i_469765995 = 0;
      var colontmp__469766747 = 0;
      colontmp__469766747 = (n_469765931).length - 1;
      var res_469766748 = 0;
      Label3: do {
          Label4: while (true) {
          if (!(res_469766748 <= colontmp__469766747)) break Label4;
            i_469765995 = res_469766748;
            var eh_469766049 = n_469765931[i_469765995].Field0;
            if (isFilled_721420319(eh_469766049)) {
            var j_469766053 = (eh_469766049 & (t_469765928.data).length - 1);
            Label5: do {
                Label6: while (true) {
                if (!isFilled_721420319(t_469765928.data[j_469766053].Field0)) break Label6;
                  j_469766053 = nextTry_721420322(j_469766053, (t_469765928.data).length - 1);
                }
            } while (false);
            rawInsert_469766219(t_469765928, t_469765928, "data", n_469765931[i_469765995].Field1, n_469765931[i_469765995].Field2, eh_469766049, j_469766053);
            }
            
            res_469766748 += 1;
          }
      } while (false);
    } while (false);

  
}

function rawGetKnownHC_469766388(t_469766391, key_469766392, hc_469766393) {
  var result_469766394 = 0;

  BeforeRet: do {
    if (((t_469766391.data).length == 0)) {
    result_469766394 = -1;
    break BeforeRet;
    }
    
    var h_469766445 = (hc_469766393 & (t_469766391.data).length - 1);
    Label1: do {
        Label2: while (true) {
        if (!isFilled_721420319(t_469766391.data[h_469766445].Field0)) break Label2;
          if (((t_469766391.data[h_469766445].Field0 == hc_469766393) && (t_469766391.data[h_469766445].Field1 == key_469766392))) {
          result_469766394 = h_469766445;
          break BeforeRet;
          }
          
          h_469766445 = nextTry_721420322(h_469766445, (t_469766391.data).length - 1);
        }
    } while (false);
    result_469766394 = (-1 - h_469766445);
  } while (false);

  return result_469766394;

}

function HEX5BHEX5DHEX3D_469765368(t_469765371, key_469765372, val_469765373) {
    if (((t_469765371.data).length == 0)) {
    var correctSizeHEX60gensym41_469765423 = slotsNeeded_721420330(32);
    t_469765371.counter = 0;
    t_469765371.data = new Array(correctSizeHEX60gensym41_469765423); for (var i = 0 ; i < correctSizeHEX60gensym41_469765423 ; ++i) { t_469765371.data[i] = {Field0: 0, Field1: 0, Field2: []}; }    }
    
    var hc_469765428 = [0];
    var index_469765665 = rawGet_469765429(t_469765371, key_469765372, hc_469765428, 0);
    if ((0 <= index_469765665)) {
    t_469765371.data[index_469765665].Field2 = nimCopy(null, val_469765373, NTI33554439);
    }
    else {
      if (((t_469765371.data).length == 0)) {
      var correctSizeHEX60gensym46_469765767 = slotsNeeded_721420330(32);
      t_469765371.counter = 0;
      t_469765371.data = new Array(correctSizeHEX60gensym46_469765767); for (var i = 0 ; i < correctSizeHEX60gensym46_469765767 ; ++i) { t_469765371.data[i] = {Field0: 0, Field1: 0, Field2: []}; }      }
      
      if (mustRehash_469765772(t_469765371)) {
      enlarge_469765925(t_469765371);
      index_469765665 = rawGetKnownHC_469766388(t_469765371, key_469765372, hc_469765428[0]);
      }
      
      index_469765665 = (-1 - index_469765665);
      rawInsert_469766219(t_469765371, t_469765371, "data", key_469765372, val_469765373, hc_469765428[0], index_469765665);
      t_469765371.counter += 1;
    }
    

  
}

function toTable_469765281(pairs_469765284) {
  var result_469765290 = [({data: [], counter: 0})];

    result_469765290[0] = nimCopy(result_469765290[0], initTable_469765291((pairs_469765284).length), NTI469763792);
    Label1: do {
      var key_469765326 = 0;
      var val_469765327 = [];
      var i_469766742 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(i_469766742 < (pairs_469765284).length)) break Label3;
            key_469765326 = pairs_469765284[i_469766742]["Field0"];
            val_469765327 = pairs_469765284[i_469766742]["Field1"];
            HEX5BHEX5DHEX3D_469765368(result_469765290[0], key_469765326, val_469765327);
            i_469766742 += 1;
          }
      } while (false);
    } while (false);

  return result_469765290[0];

}
        var Temporary30;
var hands_469765252 = readInput_469764991(input_469762076, leftTab_469764908, rightTab_469764913);
var matches_469765253 = [[]];
Label27: do {
  var i_469765261 = [0];
  var colontmp__469766726 = 0;
  colontmp__469766726 = (hands_469765252.Field0).length - 1;
  var res_469766727 = 0;
  Label28: do {
      Label29: while (true) {
      if (!(res_469766727 <= colontmp__469766726)) break Label29;
        i_469765261[0] = res_469766727;
        if ((i_469765261[0] < 200)) {
        Temporary30 = (toFloat_1124073478(i_469765261[0]) * 0.015);
        }
        else {
        Temporary30 = (toFloat_1124073478(i_469765261[0]) * 0.01);
        }
        
        matches_469765253[0].push({left: hands_469765252.Field0[i_469765261[0]], right: hands_469765252.Field1[i_469765261[0]], start_t: Temporary30});;
        res_469766727 += 1;
      }
  } while (false);
} while (false);
var n_matches_469765270 = (matches_469765253[0]).length;
var match_grid_469765271 = 50;
var t_469765272 = [0.0];
var dt_469765273 = HEX2F_33557575(1, 60);
var period_469765274 = 0.5;
var w_469765275 = (6.283185307179586 / period_469765274);
var matchLength_469765276 = (2.0 * period_469765274);
var width_469765277 = 900;
var height_469765278 = 300;
var eachHeight_469765279 = Math.trunc(height_469765278 / match_grid_469765271);
var eachWidth_469765280 = Math.trunc(width_469765277 / match_grid_469765271);
var emojiTable_469766647 = toTable_469765281([{Field0: 0, Field1: makeNimstrLit("\xE2\x9C\x8A")}, {Field0: 1, Field1: makeNimstrLit("\xF0\x9F\xA4\x9A")}, {Field0: 2, Field1: makeNimstrLit("\xE2\x9C\x8C\xEF\xB8\x8F")}]);
var leftHandEmoji_469766648 = makeNimstrLit("\xF0\x9F\xA4\x9C");
var rightHandEmoji_469766649 = makeNimstrLit("\xF0\x9F\xA4\x9B");
var winEmoji_469766650 = makeNimstrLit("\xE2\x9C\x85");
var loseEmoji_469766651 = makeNimstrLit("\xE2\x9D\x8C");
var drawEmoji_469766652 = makeNimstrLit("\xE2\x9E\x96");

function setup() {
    createCanvas(toFloat_1124073478(width_469765277), toFloat_1124073478(height_469765278));
    background(200.0);
    textSize(toFloat_1124073478((eachHeight_469765279 - 1)));

  
}

function contains_469766828(s_469766832, value_469766833) {
  var result_469766834 = false;

    result_469766834 = ((s_469766832.a <= value_469766833) && (value_469766833 <= s_469766832.b));

  return result_469766834;

}

function HEX2EHEX2E_469766758(a_469766761, b_469766762) {
  var result_469766765 = ({a: 0.0, b: 0.0});

    result_469766765 = nimCopy(result_469766765, {a: a_469766761, b: b_469766762}, NTI469764556);

  return result_469766765;

}

function raiseKeyError_469766955(key_469766957) {
    raiseException({message: (makeNimstrLit("key not found: ") || []).concat(reprEnum(key_469766957, NTI469762104) || []), parent: null, m_type: NTI33555126, name: null, trace: [], up: null}, "KeyError");

  
}

function HEX5BHEX5D_469766888(t_469766891, key_469766892) {
  var result_469766893 = [];

    var hcHEX60gensym20_469766894 = [0];
    var indexHEX60gensym20_469766901 = rawGet_469765429(t_469766891, key_469766892, hcHEX60gensym20_469766894, 0);
    if ((0 <= indexHEX60gensym20_469766901)) {
    result_469766893 = nimCopy(null, t_469766891.data[indexHEX60gensym20_469766901].Field2, NTI33554439);
    }
    else {
    raiseKeyError_469766955(key_469766892);
    }
    

  return result_469766893;

}

function HEX5BHEX5D_469767076(t_469767079, key_469767080) {
  var result_469767081 = 0;

    var hcHEX60gensym20_469767082 = [0];
    var indexHEX60gensym20_469767089 = rawGet_469762283(t_469767079, key_469767080, hcHEX60gensym20_469767082, 0);
    if ((0 <= indexHEX60gensym20_469767089)) {
    result_469767081 = t_469767079.data[indexHEX60gensym20_469767089].Field2;
    }
    else {
    raiseKeyError_469766955(key_469767080);
    }
    

  return result_469767081;

}

function drawMatch_469766751(m_469766752) {
    push();
    var x1_469766753 = 0;
    var y1_469766754 = 0;
    var x2_469766755 = (x1_469766753 + eachHeight_469765279);
    var y2_469766756 = y1_469766754;
    var localTime_469766757 = (t_469765272[0] - m_469766752.start_t);
    if ((localTime_469766757 < 0.0)) {
    text(toJSStr(leftHandEmoji_469766648), toFloat_1124073478(x1_469766753), toFloat_1124073478(y1_469766754));
    text(toJSStr(rightHandEmoji_469766649), toFloat_1124073478(x2_469766755), toFloat_1124073478(y2_469766756));
    }
    else {
    if ((localTime_469766757 < matchLength_469765276)) {
    push();
    rotate((0.5 * (sin((w_469765275 * localTime_469766757)) - 0.3)));
    text(toJSStr(leftHandEmoji_469766648), toFloat_1124073478(x1_469766753), toFloat_1124073478(y1_469766754));
    pop();
    push();
    translate(toFloat_1124073478(eachHeight_469765279), 0.0);
    push();
    rotate((-0.5 * (sin((w_469765275 * localTime_469766757)) - 0.3)));
    text(toJSStr(rightHandEmoji_469766649), toFloat_1124073478(x1_469766753), toFloat_1124073478(y1_469766754));
    pop();
    pop();
    }
    else {
    if (contains_469766828(HEX2EHEX2E_469766758(matchLength_469765276, (matchLength_469765276 + 2.0)), localTime_469766757)) {
    text(toJSStr(HEX5BHEX5D_469766888(emojiTable_469766647, m_469766752.left)), toFloat_1124073478(x1_469766753), toFloat_1124073478(y1_469766754));
    text(toJSStr(HEX5BHEX5D_469766888(emojiTable_469766647, m_469766752.right)), toFloat_1124073478(x2_469766755), toFloat_1124073478(y2_469766756));
    }
    else {
      if ((HEX5BHEX5D_469767076(winTable_469763533, m_469766752.right) == m_469766752.left)) {
      text(toJSStr(winEmoji_469766650), toFloat_1124073478(x1_469766753), toFloat_1124073478(y1_469766754));
      }
      else {
      if ((HEX5BHEX5D_469767076(loseTable_469763528, m_469766752.right) == m_469766752.left)) {
      text(toJSStr(loseEmoji_469766651), toFloat_1124073478(x1_469766753), toFloat_1124073478(y1_469766754));
      }
      else {
      text(toJSStr(drawEmoji_469766652), toFloat_1124073478(x1_469766753), toFloat_1124073478(y1_469766754));
      }
      }
    }
    }}
    pop();

  
}

function HEX2BHEX3D_872417266(x_872417268, x_872417268_Idx, y_872417269) {
    x_872417268[x_872417268_Idx] = (x_872417268[x_872417268_Idx] + y_872417269);

  
}

function draw() {
    background(200.0);
    scale(scaleFactor_469767213[0]);
    if ((t_469765272[0] < (scaleTime_469767214 / 3.0))) {
    scaleFactor_469767213[0] = lerp(20.0, 3.0, (t_469765272[0] / (scaleTime_469767214 / 3.0)));
    }
    else {
    if (contains_469766828(HEX2EHEX2E_469766758((scaleTime_469767214 / 3.0), scaleTime_469767214), t_469765272[0])) {
    scaleFactor_469767213[0] = lerp(3.0, 1.0, ((t_469765272[0] - (scaleTime_469767214 / 3.0)) / (HEX2F_33557575(2, 3) * scaleTime_469767214)));
    }
    else {
      scaleFactor_469767213[0] = 1.0;
    }
    }
    Label1: do {
      var i_469767276 = 0;
      var colontmp__469767294 = 0;
      colontmp__469767294 = nimMin(((((toFloat_1124073478(match_grid_469765271) / scaleFactor_469767213[0])) | 0) + 1), match_grid_469765271);
      var i_469767295 = 0;
      Label2: do {
          Label3: while (true) {
          if (!(i_469767295 < colontmp__469767294)) break Label3;
            i_469767276 = i_469767295;
            push();
            translate(0.0, toFloat_1124073478(((i_469767276 + 1) * eachHeight_469765279)));
            Label4: do {
              var j_469767281 = 0;
              var colontmp__469767291 = 0;
              colontmp__469767291 = nimMin(((((toFloat_1124073478(match_grid_469765271) / scaleFactor_469767213[0])) | 0) + 1), match_grid_469765271);
              var i_469767292 = 0;
              Label5: do {
                  Label6: while (true) {
                  if (!(i_469767292 < colontmp__469767291)) break Label6;
                    j_469767281 = i_469767292;
                    push();
                    translate(toFloat_1124073478((j_469767281 * eachWidth_469765280)), 0.0);
                    var index_469767282 = (j_469767281 + (i_469767276 * match_grid_469765271));
                    var m_469767283 = nimCopy(null, matches_469765253[0][index_469767282], NTI469762105);
                    drawMatch_469766751(m_469767283);
                    pop();
                    i_469767292 += 1;
                  }
              } while (false);
            } while (false);
            pop();
            i_469767295 += 1;
          }
      } while (false);
    } while (false);
    HEX2BHEX3D_872417266(t_469765272, 0, dt_469765273);

  
}

function keyPressed() {
    if ((key == "s")) {
    saveGif("day2", 30.0);
    }
    

  
}
var scaleFactor_469767213 = [20.0];
var scaleTime_469767214 = 20.0;
</script>
</main>
<footer>
<hr>
<div class="nb-box">
  <span><span class="nb-small">made with <a href="https://pietroppeter.github.io/nimib/">nimib üê≥</a></span></span>
  <span></span>
  <span><button class="nb-small" id="show" onclick="toggleSourceDisplay()">Show Source</button></span>
</div>
</footer>
<section id="source">
<pre><code class="nim hljs"><span class="hljs-keyword">import</span> nimib, p5

nbInit
nbUseP5

nbText: <span class="hljs-string">&quot;# Advent of Code 2022 - Day 2 - Rock Paper Scissors&quot;</span>

<span class="hljs-keyword">let</span> input = readFile(<span class="hljs-string">&quot;input.txt&quot;</span>)

nbJsFromCode(input):
  <span class="hljs-keyword">import</span> std / [tables, strutils, strscans, math]

  <span class="hljs-keyword">type</span>
    <span class="hljs-type">Hand</span> = <span class="hljs-keyword">enum</span>
      <span class="hljs-type">Rock</span>, <span class="hljs-type">Paper</span>, <span class="hljs-type">Scissor</span>

    <span class="hljs-type">Match</span> = <span class="hljs-keyword">object</span>
      left, right: <span class="hljs-type">Hand</span>
      start_t: <span class="hljs-built_in">float</span>

  <span class="hljs-keyword">let</span> loseTable = {<span class="hljs-type">Rock</span>: <span class="hljs-type">Paper</span>, <span class="hljs-type">Scissor</span>: <span class="hljs-type">Rock</span>, <span class="hljs-type">Paper</span>: <span class="hljs-type">Scissor</span>}.toTable
  <span class="hljs-keyword">let</span> winTable = {<span class="hljs-type">Rock</span>: <span class="hljs-type">Scissor</span>, <span class="hljs-type">Scissor</span>: <span class="hljs-type">Paper</span>, <span class="hljs-type">Paper</span>: <span class="hljs-type">Rock</span>}.toTable
  <span class="hljs-keyword">let</span> leftTab = {<span class="hljs-string">'A'</span>: <span class="hljs-type">Rock</span>, <span class="hljs-string">'B'</span>: <span class="hljs-type">Paper</span>, <span class="hljs-string">'C'</span>: <span class="hljs-type">Scissor</span>}.toTable
  <span class="hljs-keyword">let</span> rightTab = {<span class="hljs-string">'X'</span>: <span class="hljs-type">Rock</span>, <span class="hljs-string">'Y'</span>: <span class="hljs-type">Paper</span>, <span class="hljs-string">'Z'</span>: <span class="hljs-type">Scissor</span>}.toTable

  <span class="hljs-keyword">proc</span> readInput(input: <span class="hljs-built_in">string</span>, leftMap, rightMap: tables.<span class="hljs-type">Table</span>[<span class="hljs-built_in">char</span>, <span class="hljs-type">Hand</span>]): <span class="hljs-keyword">tuple</span>[left: <span class="hljs-built_in">seq</span>[<span class="hljs-type">Hand</span>], right: <span class="hljs-built_in">seq</span>[<span class="hljs-type">Hand</span>]] =
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> input.splitLines:
      <span class="hljs-keyword">let</span> (success, l, r) = scanTuple(line, <span class="hljs-string">&quot;$c $c&quot;</span>)
      <span class="hljs-keyword">assert</span> success
      <span class="hljs-literal">result</span>.left.add leftMap[l]
      <span class="hljs-literal">result</span>.right.add rightMap[r]

  <span class="hljs-keyword">template</span> rotate(angle: <span class="hljs-built_in">float</span>, body: <span class="hljs-built_in">untyped</span>) =
    push()
    rotate(angle)
    body
    pop()

  <span class="hljs-keyword">template</span> translate(x, y: <span class="hljs-type">PNumber</span>, body: <span class="hljs-built_in">untyped</span>) =
    push()
    translate(x, y)
    body
    pop()

  <span class="hljs-keyword">let</span> hands = readInput(input, leftTab, rightTab)
  <span class="hljs-keyword">var</span> matches: <span class="hljs-built_in">seq</span>[<span class="hljs-type">Match</span>]
  <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> .. hands.left.<span class="hljs-keyword">high</span>:
    matches.add <span class="hljs-type">Match</span>(left: hands.left[i], right: hands.right[i], start_t: <span class="hljs-keyword">if</span> i &lt; <span class="hljs-number">200</span>: i*<span class="hljs-number">0.015</span> <span class="hljs-keyword">else</span>: i*<span class="hljs-number">0.01</span>)
  
  <span class="hljs-keyword">let</span> n_matches = matches.len <span class="hljs-comment"># 2500 -&gt; 50x50</span>
  <span class="hljs-keyword">let</span> match_grid = <span class="hljs-number">50</span>
  <span class="hljs-keyword">var</span> t = <span class="hljs-number">0.0</span>
  <span class="hljs-keyword">let</span> dt = <span class="hljs-number">1</span> / <span class="hljs-number">60</span>
  <span class="hljs-keyword">let</span> period = <span class="hljs-number">0.5</span>
  <span class="hljs-keyword">let</span> w = <span class="hljs-number">2</span>*math.<span class="hljs-type">PI</span>/period
  <span class="hljs-keyword">let</span> matchLength = <span class="hljs-number">2</span>*period
  <span class="hljs-keyword">let</span> width = <span class="hljs-number">900</span>
  <span class="hljs-keyword">let</span> height = <span class="hljs-number">300</span>
  <span class="hljs-keyword">let</span> eachHeight = height <span class="hljs-keyword">div</span> match_grid
  <span class="hljs-keyword">let</span> eachWidth = width <span class="hljs-keyword">div</span> (match_grid)

  <span class="hljs-keyword">let</span> emojiTable = {<span class="hljs-type">Rock</span>: <span class="hljs-string">&quot;‚úä&quot;</span>, <span class="hljs-type">Paper</span>: <span class="hljs-string">&quot;ü§ö&quot;</span>, <span class="hljs-type">Scissor</span>: <span class="hljs-string">&quot;‚úåÔ∏è&quot;</span>}.toTable
  <span class="hljs-keyword">let</span> leftHandEmoji = <span class="hljs-string">&quot;ü§ú&quot;</span>
  <span class="hljs-keyword">let</span> rightHandEmoji = <span class="hljs-string">&quot;ü§õ&quot;</span>
  <span class="hljs-keyword">let</span> winEmoji = <span class="hljs-string">&quot;‚úÖ&quot;</span>
  <span class="hljs-keyword">let</span> loseEmoji = <span class="hljs-string">&quot;‚ùå&quot;</span>
  <span class="hljs-keyword">let</span> drawEmoji = <span class="hljs-string">&quot;‚ûñ&quot;</span>

  <span class="hljs-keyword">proc</span> drawMatch(m: <span class="hljs-type">Match</span>) =
    <span class="hljs-comment">## Draws a single match</span>
    push()
    <span class="hljs-keyword">let</span> x1 = <span class="hljs-number">0</span>
    <span class="hljs-keyword">let</span> y1 = <span class="hljs-number">0</span>
    <span class="hljs-keyword">let</span> x2 = x1 + eachHeight
    <span class="hljs-keyword">let</span> y2 = y1

    <span class="hljs-keyword">let</span> localTime = t - m.start_t

    <span class="hljs-keyword">if</span> localTime &lt; <span class="hljs-number">0</span>:
      <span class="hljs-comment"># Before match has started</span>
      text(leftHandEmoji, x1, y1)
      text(rightHandEmoji, x2, y2)
    <span class="hljs-keyword">elif</span> localTime &lt; matchLength:
      <span class="hljs-comment"># Match has started, shake hands</span>
      rotate(<span class="hljs-number">0.5</span>*(sin(w*localTime) - <span class="hljs-number">0.3</span>)):
        text(leftHandEmoji, x1, y1)
      translate(eachHeight, <span class="hljs-number">0</span>):
        rotate(-<span class="hljs-number">0.5</span>*(sin(w*localTime) - <span class="hljs-number">0.3</span>)):
          text(rightHandEmoji, x1, y1)
    <span class="hljs-keyword">elif</span> localTime <span class="hljs-keyword">in</span> matchLength .. matchLength + <span class="hljs-number">2.0</span>:
      <span class="hljs-comment"># Match has ended, show result</span>
      text(emojiTable[m.left], x1, y1)
      text(emojiTable[m.right], x2, y2)
    <span class="hljs-keyword">else</span>:
      <span class="hljs-keyword">if</span> winTable[m.right] == m.left:
        text(winEmoji, x1, y1)
      <span class="hljs-keyword">elif</span> loseTable[m.right] == m.left:
        text(loseEmoji, x1, y1)
      <span class="hljs-keyword">else</span>:
        text(drawEmoji, x1, y1)

    pop()

  setup:
    createCanvas(width, height)
    background(<span class="hljs-number">200</span>)
    textSize(eachHeight - <span class="hljs-number">1</span>)

  <span class="hljs-keyword">var</span> scaleFactor = <span class="hljs-number">20.</span><span class="hljs-type">PNumber</span>
  <span class="hljs-keyword">let</span> scaleTime = <span class="hljs-number">20.0</span>
  draw:
    background(<span class="hljs-number">200</span>)
    scale(scaleFactor)
    <span class="hljs-comment"># First scale fast and then slower</span>
    <span class="hljs-keyword">if</span> t &lt; scaleTime / <span class="hljs-number">3</span>:
      scaleFactor = lerp(<span class="hljs-number">20</span>, <span class="hljs-number">3</span>, t/(scaleTime/<span class="hljs-number">3</span>))
    <span class="hljs-keyword">elif</span> t <span class="hljs-keyword">in</span> scaleTime / <span class="hljs-number">3</span> .. scaleTime:
      scaleFactor = lerp(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, (t - scaleTime/<span class="hljs-number">3</span>) / (<span class="hljs-number">2</span>/<span class="hljs-number">3</span>*scaleTime))
    <span class="hljs-keyword">else</span>:
      scaleFactor = <span class="hljs-number">1</span>
    <span class="hljs-comment"># Draw every match</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> ..&lt; min(<span class="hljs-built_in">int</span>(match_grid / scaleFactor) + <span class="hljs-number">1</span>, matchGrid):
      translate(<span class="hljs-number">0</span>, (i+<span class="hljs-number">1</span>)*eachHeight):
          <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> ..&lt; min(<span class="hljs-built_in">int</span>(match_grid / scaleFactor) + <span class="hljs-number">1</span>, matchGrid): 
            translate(j*eachWidth, <span class="hljs-number">0</span>):
              <span class="hljs-keyword">let</span> index = j + i*match_grid
              <span class="hljs-keyword">let</span> m = matches[index]
              <span class="hljs-comment">#m.start_t = index * 0.1</span>
              m.drawMatch()

    t += dt
  
  keyPressed:
    <span class="hljs-keyword">if</span> key == <span class="hljs-string">&quot;s&quot;</span>:
      saveGif(<span class="hljs-string">&quot;day2&quot;</span>, <span class="hljs-number">30</span>)

nbText: <span class="hljs-string">hlMd&quot;&quot;&quot;
The input for today contained 2500 games of Rock paper scissor. The above animation shows all of those games visualized
using [p5nim](https://github.com/pietroppeter/p5nim), a wrapper of P5.js for Nim. It starts off with both players getting
ready to play (hands are still), then they start shaking their hands and reveal their choice. The left one is the elfs choice
and the right one is your choice. After the game an emoji will show the result of the game, a green checkbox means you won that
match, a dash means it was a draw and a red cross means you lost.  
&quot;&quot;&quot;</span>

nbSave</code></pre>
</section><script>
function toggleSourceDisplay() {
  var btn = document.getElementById("show")
  var source = document.getElementById("source");
  if (btn.innerHTML=="Show Source") {
    btn.innerHTML = "Hide Source";
    source.style.display = "block";
  } else {
    btn.innerHTML = "Show Source";
    source.style.display = "none";
  }
}
</script></body>
</html>